(this["webpackJsonprdf-market"]=this["webpackJsonprdf-market"]||[]).push([[0],{132:function(e,t,a){},178:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"guy","type":"address"},{"name":"wad","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"src","type":"address"},{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"wad","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"deposit","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"guy","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"dst","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"dst","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Withdrawal","type":"event"}]')},179:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"account","type":"address"},{"name":"asset","type":"address"}],"name":"getBorrowBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"originationFeeMantissa","type":"uint256"}],"name":"_setOriginationFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"requestedState","type":"bool"}],"name":"_setPaused","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"pendingAdmin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOracle","type":"address"}],"name":"_setOracle","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"amount","type":"uint256"}],"name":"_withdrawEquity","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"amount","type":"uint256"}],"name":"borrow","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"interestRateModel","type":"address"}],"name":"_setMarketInterestRateModel","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"assetPrices","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"getAccountLiquidity","outputs":[{"name":"","type":"int256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCollateralMarketsLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oracle","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"liquidationDiscount","outputs":[{"name":"mantissa","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"markets","outputs":[{"name":"isSupported","type":"bool"},{"name":"blockNumber","type":"uint256"},{"name":"interestRateModel","type":"address"},{"name":"totalSupply","type":"uint256"},{"name":"supplyRateMantissa","type":"uint256"},{"name":"supplyIndex","type":"uint256"},{"name":"totalBorrows","type":"uint256"},{"name":"borrowRateMantissa","type":"uint256"},{"name":"borrowIndex","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userAddress","type":"address"}],"name":"calculateAccountValues","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"amount","type":"uint256"}],"name":"repayBorrow","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"collateralRatio","outputs":[{"name":"mantissa","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newPendingAdmin","type":"address"}],"name":"_setPendingAdmin","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"supplyBalances","outputs":[{"name":"principal","type":"uint256"},{"name":"interestIndex","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"originationFee","outputs":[{"name":"mantissa","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"},{"name":"asset","type":"address"}],"name":"getSupplyBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"collateralMarkets","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"interestRateModel","type":"address"}],"name":"_supportMarket","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"collateralRatioMantissa","type":"uint256"},{"name":"liquidationDiscountMantissa","type":"uint256"}],"name":"_setRiskParameters","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"}],"name":"_suspendMarket","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"targetAccount","type":"address"},{"name":"assetBorrow","type":"address"},{"name":"assetCollateral","type":"address"},{"name":"requestedAmountClose","type":"uint256"}],"name":"liquidateBorrow","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"_acceptAdmin","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"amount","type":"uint256"}],"name":"supply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"requestedAmount","type":"uint256"}],"name":"withdraw","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"borrowBalances","outputs":[{"name":"principal","type":"uint256"},{"name":"interestIndex","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"account","type":"address"},{"indexed":false,"name":"asset","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"startingBalance","type":"uint256"},{"indexed":false,"name":"newBalance","type":"uint256"}],"name":"SupplyReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"account","type":"address"},{"indexed":false,"name":"asset","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"startingBalance","type":"uint256"},{"indexed":false,"name":"newBalance","type":"uint256"}],"name":"SupplyWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"account","type":"address"},{"indexed":false,"name":"asset","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"startingBalance","type":"uint256"},{"indexed":false,"name":"borrowAmountWithFee","type":"uint256"},{"indexed":false,"name":"newBalance","type":"uint256"}],"name":"BorrowTaken","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"account","type":"address"},{"indexed":false,"name":"asset","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"startingBalance","type":"uint256"},{"indexed":false,"name":"newBalance","type":"uint256"}],"name":"BorrowRepaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"targetAccount","type":"address"},{"indexed":false,"name":"assetBorrow","type":"address"},{"indexed":false,"name":"borrowBalanceBefore","type":"uint256"},{"indexed":false,"name":"borrowBalanceAccumulated","type":"uint256"},{"indexed":false,"name":"amountRepaid","type":"uint256"},{"indexed":false,"name":"borrowBalanceAfter","type":"uint256"},{"indexed":false,"name":"liquidator","type":"address"},{"indexed":false,"name":"assetCollateral","type":"address"},{"indexed":false,"name":"collateralBalanceBefore","type":"uint256"},{"indexed":false,"name":"collateralBalanceAccumulated","type":"uint256"},{"indexed":false,"name":"amountSeized","type":"uint256"},{"indexed":false,"name":"collateralBalanceAfter","type":"uint256"}],"name":"BorrowLiquidated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldPendingAdmin","type":"address"},{"indexed":false,"name":"newPendingAdmin","type":"address"}],"name":"NewPendingAdmin","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldAdmin","type":"address"},{"indexed":false,"name":"newAdmin","type":"address"}],"name":"NewAdmin","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldOracle","type":"address"},{"indexed":false,"name":"newOracle","type":"address"}],"name":"NewOracle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"asset","type":"address"},{"indexed":false,"name":"interestRateModel","type":"address"}],"name":"SupportedMarket","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldCollateralRatioMantissa","type":"uint256"},{"indexed":false,"name":"newCollateralRatioMantissa","type":"uint256"},{"indexed":false,"name":"oldLiquidationDiscountMantissa","type":"uint256"},{"indexed":false,"name":"newLiquidationDiscountMantissa","type":"uint256"}],"name":"NewRiskParameters","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldOriginationFeeMantissa","type":"uint256"},{"indexed":false,"name":"newOriginationFeeMantissa","type":"uint256"}],"name":"NewOriginationFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"asset","type":"address"},{"indexed":false,"name":"interestRateModel","type":"address"}],"name":"SetMarketInterestRateModel","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"asset","type":"address"},{"indexed":false,"name":"equityAvailableBefore","type":"uint256"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"owner","type":"address"}],"name":"EquityWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"asset","type":"address"}],"name":"SuspendedMarket","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newState","type":"bool"}],"name":"SetPaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"error","type":"uint256"},{"indexed":false,"name":"info","type":"uint256"},{"indexed":false,"name":"detail","type":"uint256"}],"name":"Failure","type":"event"}]')},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},2:function(e){e.exports=JSON.parse('{"Kovan":{"MoneyMarket":"0x0961a04d184b13cf5ba463b76ffc90a49fe7a1f9","WETH":"0xd0A1E359811322d97991E03f863a0C30C2cF029C","DF":"0xcE6FB79C099f3B2F361E94B2D5645820790832f3","USDx":"0x54b909745294bf82d36845EE69c1daAdDbE14978"},"Main":{"MoneyMarket":"0xeda3849869fd560b49dab8c110be3a020f46c79e","WETH":"0x06a1cd567e61b7edda49c30d3d32e60f607fd646","USDx":"0x3a9e75afcffcd89613037989ea0ed6cec44a4353"},"Rinkeby":{"MoneyMarket":"0x5759F246E6b66B654c61Fec7427dc69E693E98fA","WETH":"0xC8b1a5ef2e19937dd6c0f804DF2e3efE9F093B1e","USDx":"0xaf21bb8ae7b7a5eec37964e478583cd486fd12e2"},"Asset":{"USDx":"USDx","DF":"DF","WETH":"WETH"}}')},268:function(e,t,a){e.exports=a(561)},273:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_owner","type":"address"},{"name":"value","type":"uint256"}],"name":"allocateTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_subtractedValue","type":"uint256"}],"name":"decreaseApproval","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_addedValue","type":"uint256"}],"name":"increaseApproval","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_initialAmount","type":"uint256"},{"name":"_tokenName","type":"string"},{"name":"_decimalUnits","type":"uint8"},{"name":"_tokenSymbol","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},327:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){},348:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},362:function(e,t){},384:function(e,t){},386:function(e,t){},449:function(e,t){},49:function(e){e.exports=JSON.parse('{"0":"NO_ERROR","1":"OPAQUE_ERROR","2":"UNAUTHORIZED","3":"INTEGER_OVERFLOW","4":"INTEGER_UNDERFLOW","5":"DIVISION_BY_ZERO","6":"BAD_INPUT","7":"TOKEN_INSUFFICIENT_ALLOWANCE","8":"TOKEN_INSUFFICIENT_BALANCE","9":"TOKEN_TRANSFER_FAILED","10":"MARKET_NOT_SUPPORTED","11":"SUPPLY_RATE_CALCULATION_FAILED","12":"BORROW_RATE_CALCULATION_FAILED","13":"TOKEN_INSUFFICIENT_CASH","14":"TOKEN_TRANSFER_OUT_FAILED","15":"INSUFFICIENT_LIQUIDITY","16":"INSUFFICIENT_BALANCE","17":"INVALID_COLLATERAL_RATIO","18":"MISSING_ASSET_PRICE","19":"EQUITY_INSUFFICIENT_BALANCE","20":"INVALID_CLOSE_AMOUNT_REQUESTED","21":"ASSET_NOT_PRICED","22":"INVALID_LIQUIDATION_DISCOUNT","23":"INVALID_COMBINED_RISK_PARAMETERS","24":"ZERO_ORACLE_ADDRESS","25":"CONTRACT_PAUSED"}')},557:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"token","type":"address"},{"name":"index","type":"uint256"}],"name":"orderOfExchange","outputs":[{"name":"","type":"address"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"amount","type":"uint256"}],"name":"depositFeeToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"amount","type":"uint256"}],"name":"depositToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"_totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"findMaxMintAmountAndCostToken","outputs":[{"name":"","type":"uint256"},{"name":"","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"}],"name":"findOtherComposition","outputs":[{"name":"","type":"address"},{"name":"","type":"address"},{"name":"","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"user","type":"address"}],"name":"balancesOfFeeToken","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"_balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"token","type":"address"},{"name":"user","type":"address"}],"name":"balanceOfTokens","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"token","type":"address"}],"name":"totalSupplyOfTokens","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"orderToken","type":"address"},{"name":"position","type":"uint256"}],"name":"removeItemFromOrder","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"_balancesOfFeeToken","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdrawToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"willMintNumber","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"_owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"uint256"}],"name":"_orderOfExchange","outputs":[{"name":"depositor","type":"address"},{"name":"amount","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"withdrawFeeToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"_balancesOfTokens","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"_totalSupplyOfTokens","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"tokens","outputs":[{"name":"name","type":"string"},{"name":"rate","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"token","type":"address"},{"indexed":false,"name":"user","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"balance","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"token","type":"address"},{"indexed":false,"name":"user","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"balance","type":"uint256"}],"name":"Withdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"tokenA","type":"address"},{"indexed":false,"name":"tokenB","type":"address"},{"indexed":false,"name":"tokenC","type":"address"},{"indexed":false,"name":"tokenD","type":"address"},{"indexed":false,"name":"user","type":"address"},{"indexed":false,"name":"total","type":"uint256"},{"indexed":false,"name":"gain","type":"uint256"},{"indexed":false,"name":"balance","type":"uint256"}],"name":"ExchangeToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"tokens","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"tokenOwner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"tokens","type":"uint256"}],"name":"Approval","type":"event"}]')},558:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"defaultOperators","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"holder","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"distributeRevenue","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"}],"name":"removeMinter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"exchangeRate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"revenue","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"unpause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"}],"name":"setRevenueAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"granularity","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"sender","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"},{"name":"data","type":"bytes"},{"name":"operatorData","type":"bytes"}],"name":"operatorSend","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"who","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"transferable","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"operator","type":"address"}],"name":"authorizeOperator","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"}],"name":"addMinter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"},{"name":"data","type":"bytes"}],"name":"send","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"isMinter","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"disableTransfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"revenueAddress","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"who","type":"address"}],"name":"accuracyBalanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"operator","type":"address"},{"name":"tokenHolder","type":"address"}],"name":"isOperatorFor","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"},{"name":"userData","type":"bytes"},{"name":"operatorData","type":"bytes"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"holder","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"enableTransfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"operator","type":"address"}],"name":"revokeOperator","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"},{"name":"amount","type":"uint256"},{"name":"data","type":"bytes"},{"name":"operatorData","type":"bytes"}],"name":"operatorBurn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"},{"name":"data","type":"bytes"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"account","type":"address"}],"name":"RevenueAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"}],"name":"TransferEnabled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"}],"name":"TransferDisabled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"account","type":"address"}],"name":"MinterAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"account","type":"address"}],"name":"MinterRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"account","type":"address"},{"indexed":false,"name":"exchangeRate","type":"uint256"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":false,"name":"remainder","type":"uint256"}],"name":"RevenueDistributed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"data","type":"bytes"},{"indexed":false,"name":"operatorData","type":"bytes"}],"name":"Sent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"data","type":"bytes"},{"indexed":false,"name":"operatorData","type":"bytes"}],"name":"Minted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"from","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"data","type":"bytes"},{"indexed":false,"name":"operatorData","type":"bytes"}],"name":"Burned","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"tokenHolder","type":"address"}],"name":"AuthorizedOperator","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"tokenHolder","type":"address"}],"name":"RevokedOperator","type":"event"}]')},559:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"_owner","type":"address"},{"name":"value","type":"uint256"}],"name":"allocateTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_subtractedValue","type":"uint256"}],"name":"decreaseApproval","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_addedValue","type":"uint256"}],"name":"increaseApproval","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_tokenName","type":"string"},{"name":"_decimalUnits","type":"uint8"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]')},560:function(e){e.exports=JSON.parse('{"main":{},"rinkeby":{"address_USDx":"0xaf21bb8ae7b7a5eec37964e478583cd486fd12e2","address_WETH":"0xC8b1a5ef2e19937dd6c0f804DF2e3efE9F093B1e","address_imBTC":"0x7b054ebe1d7e003afda8e717daeab05d56d5836a","address_USDT":"0xA1e525F7d24D7cCB78A070BBd12C0BF21Fb4a848","address_mMarket":"0x5759F246E6b66B654c61Fec7427dc69E693E98fA"}}')},561:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(20),i=a.n(s),r=(a(273),a(76)),u=a.n(r),l=a(256),p=a(98),c=a(11),d=a(17),m=a(8),w=a(12),b=a(13),y=(a(275),a(569)),f=a(55),h=a(39),S=a(36),x=a(563),v=a(564),g=a(164),E=(a(276),a(565)),N=a(562),M={Decentralized:"Earn Interest and Borrow Money at Ease with Lendf.Me",USDx_Supplied:"USDx Supplied",USDx_Supplied_home:"USDx Supplied",USDx_Borrowed:"USDx Borrowed",Utilization_Rate:"Utilization Rate",Collateralization_ratio:"Collateralization ratio",USDx_Supply_APR:"USDx Supply APR",USDx_Borrow_APR:"USDx Borrow APR",Supply_USDx:"Supply USDx",Borrow_USDx:"Borrow USDx",Supply_your:"Supply your USDx assets to earn interest on your holdings.",Pledge_WETH:"Pledge WETH assets to borrow USDx instantly, at competitive interest rate.",Account_Portfolio:"Account Portfolio",Supplied_Balance:"Supplied Balance",Borrowed_Balance:"Borrowed Balance",Available_to_Borrow:"Available to Borrow",Borrow_APR:"Borrow APR",Supply:"Supply",WETH_Supplied:"WETH Supplied",ETH_Balance:"ETH Balance",WETH_Balance:"WETH Balance",Withdraw:"Withdraw",WETH_Available:"WETH Available",Before_borrowing:"Before borrowing USDx for the first time, you must enable USDx.",Borrowing_exceeds:"Borrowing exceeds SAFE value makes your supply in risk.",Already_supplied:"Already supplied USDx, please withdraw all of them in Lend Page before borrowing any.",USDx_Market:"USDx Market",Total_Supplied:"Total Supplied",Total_Borrowed:"Total Borrowed",Supply_APR:"Supply APR",Before_supplying:"Before supplying USDx for the first time, you must enable USDx.",Already_borrowed:"Already borrowed USDx, please repay all of them in Borrow Page before supplying any.",INSUFFICIENT_LIQUIDITY:"INSUFFICIENT LIQUIDITY",INSUFFICIENT_BALANCE:"INSUFFICIENT BALANCE",SUBMITTING:"SUBMITTING\u2026",Before_supplying_WETH:"Before supplying WETH for the first time, you must enable WETH.",ENABLE_WETH:"ENABLE WETH",Borrow:"Borrow",USDx_Borrowed_borrow:"USDx Borrowed",USDx_Available_borrow:"USDx Available",USDx_Available_supply:"USDx Available",Repay:"Repay",USDx_Balance:"USDx Balance",Home:"Home",SUPPLY:"SUPPLY",BORROW:"BORROW",REPAY:"REPAY",Balance:" Balance"},A={Decentralized:"\u968f\u5b58\u968f\u8d37\uff0c\u4f60\u81ea\u5df1\u7684\u94f6\u884c",USDx_Supplied:"USDx\u5df2\u5b58\u6570\u91cf",USDx_Supplied_home:"USDx\u5b58\u6b3e\u603b\u989d",USDx_Borrowed:"USDx\u501f\u6b3e\u603b\u989d",Utilization_Rate:"USDx\u501f\u5b58\u6bd4\u7387",Collateralization_ratio:"\u62b5\u62bc\u7387",USDx_Supply_APR:"USDx\u5b58\u6b3e\u5229\u7387",USDx_Borrow_APR:"USDx\u501f\u6b3e\u5229\u7387",Supply_USDx:"\u5b58USDx",Borrow_USDx:"\u501fUSDx",Supply_your:"\u968f\u5b58\u968f\u53d6USDx\uff0c\u5373\u65f6\u83b7\u5f97\u9ad8\u989d\u5229\u606f",Pledge_WETH:"\u62b5\u62bcEther\u83b7\u5f97\u4f4e\u5229\u7387\u7684USDx\u5373\u65f6\u501f\u6b3e",Account_Portfolio:"\u8d26\u6237\u4fe1\u606f",Supplied_Balance:"\u5b58\u6b3e\u603b\u989d",Borrowed_Balance:"\u501f\u6b3e\u603b\u989d",Available_to_Borrow:"\u53ef\u501f\u6b3e\u4e0a\u9650",Borrow_APR:"\u501f\u6b3e\u5229\u7387",Supply:"\u5b58\u6b3e",WETH_Supplied:"WETH\u5df2\u5b58\u6570\u91cf",ETH_Balance:"ETH\u4f59\u989d",WETH_Balance:"WETH\u4f59\u989d",Withdraw:"\u53d6\u51fa",WETH_Available:"WETH\u53ef\u53d6\u6570\u91cf",Before_borrowing:"\u6388\u6743\u9996\u6b21USDx\u501f\u6b3e",Borrowing_exceeds:"\u907f\u514d\u4f7f\u7528\u8fc7\u4f4e\u62b5\u62bc\u7387\u5bfc\u81f4\u62b5\u62bc\u8d44\u4ea7\u88ab\u6e05\u7b97",Already_supplied:"\u501f\u6b3e\u524d\u9700\u53d6\u51fa\u6240\u6709USDx\u5b58\u6b3e",USDx_Market:"USDx\u5e02\u573a",Total_Supplied:"\u5b58\u6b3e\u603b\u989d",Total_Borrowed:"\u501f\u6b3e\u603b\u989d",Supply_APR:"\u5b58\u6b3e\u5229\u7387",Before_supplying:"\u6388\u6743\u9996\u6b21USDx\u5b58\u6b3e",Already_borrowed:"\u5b58\u6b3e\u524d\u9700\u8fd8\u6e05\u6240\u6709USDx\u501f\u6b3e",INSUFFICIENT_LIQUIDITY:"\u5e02\u573a\u6d41\u52a8\u6027\u4e0d\u8db3",INSUFFICIENT_BALANCE:"\u4f59\u989d\u4e0d\u8db3",SUBMITTING:"\u63d0\u4ea4\u4e2d\u2026",Before_supplying_WETH:"\u6388\u6743\u9996\u6b21WETH\u5b58\u6b3e",ENABLE_WETH:"\u6388\u6743",Borrow:"\u501f\u6b3e",USDx_Borrowed_borrow:"USDx\u5df2\u501f\u6570\u91cf",USDx_Available_borrow:"USDx\u53ef\u501f\u6570\u91cf",USDx_Available_supply:"USDx\u53ef\u53d6\u6570\u91cf",Repay:"\u507f\u8fd8",USDx_Balance:"USDx\u4f59\u989d",Home:"\u9996\u9875",SUPPLY:"\u5b58\u6b3e",BORROW:"\u501f\u6b3e",REPAY:"\u507f\u8fd8",Balance:"\u4f59\u989d"},T=function(e){return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"approve-section"},o.a.createElement("div",{className:"enable-message"},"Before supplying USDx for the first time, you must enable USDx."===e.enableMessage?o.a.createElement(N.a,{id:"Before_supplying"}):null,"Before supplying WETH for the first time, you must enable WETH."===e.enableMessage?o.a.createElement(N.a,{id:"Before_supplying_WETH"}):null,"Before Borrowing USDx for the first time, you must enable USDx."===e.enableMessage?o.a.createElement(N.a,{id:"Before_borrowing"}):null),o.a.createElement("div",{className:"borrow"===e.page?"button-wrapper-borrow":"button-wrapper"},o.a.createElement(g.a,{size:"large",className:e.isEnable?"":"disable-button",onClick:e.handleClick,disabled:!e.isEnable},e.buttonInfo))))},I=a(567),D=(a(323),function(e){var t=e.hasBorrowedUSDx,a=e.hasLendUSDx;return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"input-unit-wrapper"},a||t?o.a.createElement("div",{className:"alert-message"},a?o.a.createElement(N.a,{id:"Already_supplied"}):o.a.createElement(N.a,{id:"Already_borrowed"})):o.a.createElement("div",{className:"input-wrapper"},o.a.createElement(I.a,{size:"large",placeholder:e.placeholderHint,min:e.minAmount,step:e.step,value:e.amount,onChange:e.handleChange,className:"input-number",disabled:e.inputDisabled}),o.a.createElement("span",{className:e.maxClassName,onClick:e.inputDisabled?"":e.handleMax},e.safeMax,"MAX")),e.exceedsSafeMax?o.a.createElement("div",{className:"safe-max-alert-message"},o.a.createElement(N.a,{id:"Borrowing_exceeds"})):"",o.a.createElement("div",{className:e.buttonClassName},o.a.createElement(g.a,{size:"large",className:t||a||!e.isEnable?"disable-button":"",onClick:e.handleClick,disabled:!e.isEnable||!(!t&&!a)},e.buttonInfo))))}),W=(a(324),a(325),a(80)),B=a.n(W),U=a(2),_=function(e){return/^(\+)?\d+(\.\d+)?$/.test(e)},O=function(e){return String(e).replace(/^(.*\..{2}).*$/,"$1")},k=function(e){var t=String(e).replace(/^(.*\..{4}).*$/,"$1");return void 0===t.split(".")[1]?t+=".00":t.split(".")[1].length<4&&(t+="0"),t},F=function(e){var t=String(e).replace(/^(.*\..{10}).*$/,"$1");return void 0===t.split(".")[1]?t+=".00":t.split(".")[1].length<4&&(t+="0"),t},H=function(e){return(100*e).toFixed(2)},R=function(e){if(null==e||""===e)return"0.00";var t=(e=O(e)).split(".")[0].split("").reverse(),a=e.split(".")[1];void 0===a?a="00":a.length<2&&(a+="0");for(var n="",o=0;o<t.length;o++)n+=t[o]+((o+1)%3==0&&o+1!=t.length?",":"");return n.split("").reverse().join("")+"."+a},C=function(e,t,a,n){return e+"-"+U.Asset[t]+"-"+a+"-"+n},P=function(e,t,a,n,o,s,i,r,u,l,p,c,d,m){if(void 0!==p&&null!==p&&""!==p||(p=0),i=null===i?" ":" "+i+" ",window.localStorage){var w=window.localStorage,b=B()().format("MMM. DD,HH:mm"),y=C(t,a,n,o),f=JSON.parse(w.getItem(y))||[];f.push({icon:e,transactionDetail:s+i+r,transactionTime:b,txnHashHref:u,txId:l,status:p,transactionType:s,realAmount:c,failed:d,failedInfo:m,timestamp:B()().valueOf(),timeOutFlag:-1}),w.setItem(y,JSON.stringify(f));var h="txId-"+l;w.setItem(h,l)}},J=function(e){var t;switch(e){case"1":case"2":t="https://etherscan.io/tx/";break;case"3":t="https://ropsten.etherscan.io/tx/";break;case"4":t="https://rinkeby.etherscan.io/tx/";break;case"42":t="https://kovan.etherscan.io/tx/";break;default:t=""}return t},L=function(e){var t;switch(e){case"1":t="Main";break;case"2":t="Morden";break;case"3":t="Ropsten";break;case"4":t="Rinkeby";break;case"42":t="Kovan";break;default:t="Unknown"}return t},j=function(e){return e+"-LoginStatus"},G=function(e,t){if(void 0!==e&&null!==t&&window.localStorage){var a=window.localStorage,n=j(e),o=JSON.parse(a.getItem(n))||[];o.push({account:e,isLogin:t}),a.setItem(n,JSON.stringify(o))}},z=function(e){var t=B()(B()().valueOf()),a=B()(e);return t.diff(a,"minute")},X=function(e){var t=Number(e).toLocaleString().replace(/,/g,""),a="000000000000000000";return e=t.length<18?"0."+a.slice(0,a.length-t.length)+t.replace(/(0+)$/g,""):(""===t.slice(0,t.length-18)?0:t.slice(0,t.length-18))+"."+t.slice(t.length-18,t.length-10)};function Y(){if("undefined"!==typeof web3){var e,t=L(window.web3.version.network);e=a(178);var n,o=window.web3.eth.contract(e);return"Main"===t?n=o.at("0x06a1cd567e61b7edda49c30d3d32e60f607fd646"):"Rinkeby"===t&&(n=o.at("0xC8b1a5ef2e19937dd6c0f804DF2e3efE9F093B1e")),n}}var $=a(326);function q(){if("undefined"!==typeof web3){var e,t=window.web3.eth.contract($),a=L(window.web3.version.network);return"Main"===a?e=t.at("0x3a9e75afcffcd89613037989ea0ed6cec44a4353"):"Rinkeby"===a&&(e=t.at("0xaf21bb8ae7b7a5eec37964e478583cd486fd12e2")),e}}var Q=a(179);function V(){if("undefined"!==typeof web3){var e,t=window.web3.eth.contract(Q),a=L(window.web3.version.network);return"Main"===a?e=t.at("0xeda3849869fd560b49dab8c110be3a020f46c79e"):"Rinkeby"===a&&(e=t.at("0x5759F246E6b66B654c61Fec7427dc69E693E98fA")),e}}a(180),a(327);var K=function(e){return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"balance-info"},o.a.createElement("span",{className:"balance-desc"},e.balanceType+" "+e.balanceUnit==="USDx Balance"?o.a.createElement(N.a,{id:"USDx_Balance"}):null,e.balanceType+" "+e.balanceUnit==="USDx Available"?o.a.createElement(N.a,{id:"USDx_Available_borrow"}):null,e.balanceType+" "+e.balanceUnit==="ETH Balance"?o.a.createElement(N.a,{id:"ETH_Balance"}):null,e.balanceType+" "+e.balanceUnit==="WETH Balance"?o.a.createElement(N.a,{id:"WETH_Balance"}):null,e.balanceType+" "+e.balanceUnit==="WETH Available"?o.a.createElement(N.a,{id:"WETH_Available"}):null),o.a.createElement("span",{className:"balance-amount"},e.login?R(e.balanceAmount):"-","\xa0",e.balanceType||"Ether")))},Z=(a(181),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e={balanceDescription:"",balanceAmount:a.props.fa_maxWithdrawAmount,balanceType:"WETH",balanceUnit:"Available"};return o.a.createElement(K,Object.assign({},e,{login:a.props.login}))},a}return Object(b.a)(t,e),t}(n.Component)),ee=(a(328),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).getAccountUSDXBalanceByAddress=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==q()&&q().balanceOf(a.web3.eth.accounts[0],(function(e,t){var n=0;void 0!==t&&null!==t&&(n=a.web3.fromWei(t.toNumber(),"ether")),a.state.usdxAccountBalance!==n&&a.setState({usdxAccountBalance:n})}))},a.getAccountETHBalance=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.web3.eth.getBalance(a.web3.eth.accounts[0],(function(e,t){void 0!==t&&null!==t&&(a.setState({ethAccountBalance:O(a.web3.fromWei(t.toNumber(),"ether"))}),a.getMyAddressWETHBalance())}))},a.getMyAddressWETHBalance=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&Y().balanceOf(a.web3.eth.accounts[0],(function(e,t){var n=0;void 0!==t&&null!==t&&(n=t.toNumber(),a.setState({wethAccountBalance:O(a.web3.fromWei(n,"ether"))},(function(){})))}))},a.componentDidMount_temp=function(){setTimeout((function(){a.getAccountUSDXBalanceByAddress(),a.getAccountETHBalance(),a.getMyAddressWETHBalance()}),700),a.timerID=setInterval((function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&(a.getAccountUSDXBalanceByAddress(),a.getAccountETHBalance(),a.getMyAddressWETHBalance())}),15e3)},a.state={usdxAccountBalance:0,ethAccountBalance:0,wethAccountBalance:0},a.web3=window.web3,a.componentDidMount_temp(),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.componentDidMount_temp()})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var e={balanceDescription:"",balanceAmount:"eth"===this.props.coin?this.state.ethAccountBalance:"weth"===this.props.coin?this.props.father_max_Unwrap_Amount:this.state.usdxAccountBalance,balanceType:"eth"===this.props.coin?"ETH":"weth"===this.props.coin?"WETH":"USDx",balanceUnit:"Balance"};return o.a.createElement(K,Object.assign({},e,{login:window.web3.eth.accounts[0]}))}}]),t}(n.Component)),te=(a(182),a(329),function(e){var t=window.web3;return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"info-wrapper"},o.a.createElement("span",{className:"balance-type"},o.a.createElement("img",{style:{width:"16px",height:"16px",margin:"auto"},src:"images/".concat(e.coin,"@2x.png"),alt:""}),"\xa0",e.coin+" "+e.action==="WETH Supplied"?o.a.createElement(N.a,{id:"WETH_Supplied"}):null,e.coin+" "+e.action==="USDx Borrowed"?o.a.createElement(N.a,{id:"USDx_Borrowed_borrow"}):null),o.a.createElement("span",{className:"balance-amount"},"undefined"!==typeof t&&void 0!==t.eth.accounts[0]&&""!==t.eth.accounts[0]&&e.login?R(e.coinBalance):"-")))}),ae=(n.Component,a(49));function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var se=x.a.TabPane,ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).getAccountETHBalance=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.web3.eth.getBalance(a.web3.eth.accounts[0],(function(e,t){void 0!==t&&null!==t&&a.setState({ethAccountBalance:O(a.web3.fromWei(t.toNumber(),"ether")),ethAccountBalance_BN:t})}))},a.getMyAddressWETHBalance=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==Y()&&Y().balanceOf(a.web3.eth.accounts[0],(function(e,t){var n=0;void 0!==t&&null!==t&&(n=t.toNumber(),a.setState({wethAccountBalance:O(a.web3.fromWei(n,"ether")),maxUnwrapAmount:F(a.web3.fromWei(n,"ether")),maxUnwrapAmount_BN:t},(function(){})))}))},a.getAccountBalance=function(){void 0!==window.web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==a.props.coin&&a.props.coin.balanceOf(a.web3.eth.accounts[0],(function(e,t){var n=0;void 0!==t&&null!==t&&(n=X(t));var o=O(n),s=n;a.state.accountBalance!==o&&(a.setState({accountBalance:o}),a.setState({isSupplyEnable:!0}),a.setState({supplyAmount:""})),a.state.maxSupplyAmount!==s&&a.setState({maxSupplyAmount:n,maxSupplyAmount_BN:t})}))},a.getAllowance=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==a.props.coin){var e,t=L(a.state.NetworkName);e=U[t].MoneyMarket,a.props.coin.allowance(a.web3.eth.accounts[0],e,(function(e,t){var n=-1;void 0!==t&&null!==t&&(n=t.toNumber()),n>0?a.setState({coinAllowance:n,isApproved:!0},(function(){})):a.setState({isApproved:!1,pendingApproval:!1,buttonText:a.props.approveButtonInfo})}))}else console.log("---------ka zai zhe li le")},a.get_My_WETH_Supplied_max_Withdraw_WETH_Amount=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==Y()&&void 0!==V()){var e="",t="",n=L(a.state.NetworkName);"Main"===n?(e=U.Main.WETH,t=U.Main.MoneyMarket):"Rinkeby"===n&&(e=U.Rinkeby.WETH,t=U.Rinkeby.MoneyMarket),V().getAccountLiquidity(a.web3.eth.accounts[0],(function(n,o){o&&V().assetPrices(e,(function(n,s){s&&(o=o.mul(a.web3.toBigNumber(Math.pow(10,18))).div(s),V().getSupplyBalance(a.web3.eth.accounts[0],e,(function(e,n){n&&Y().balanceOf(t,(function(e,t){if(t){var s=o.sub(n).toNumber()<0?o:n,i=s.sub(t).toNumber()<0?s:t;if(!i.gt(a.web3.toBigNumber(0)))return void a.setState({maxWithdrawAmount:0});a.setState({maxWithdrawAmount:a.web3.fromWei(i.toNumber(),"ether"),maxWithdrawAmount_BN:i})}}))})))}))}))}},a.handleApprove=function(){a.setState({isApproved:!1,buttonText:"ENABLEING WETH...",pendingApproval:!0,i_clicked_approve_btn:1});var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.MoneyMarket:"Rinkeby"===t&&(e=U.Rinkeby.MoneyMarket),a.props.coin.approve.estimateGas(e,-1,{from:a.web3.eth.accounts[0]},(function(t,n){a.web3.eth.getGasPrice((function(t,o){console.log("gasLimit:"+n),console.log("gasPrice:"+o),a.props.coin.approve.sendTransaction(e,-1,{from:a.web3.eth.accounts[0],gas:n,gasPrice:o},(function(e,t){if(void 0!==t){var n=t,o=J(a.state.NetworkName)+t;a.setState({getHash:!0,hashNumber:t,i_clicked_approve_btn:0}),!0===a.props.wethCoin?P("loading-supply-weth-approve",a.web3.eth.accounts[0],U.Asset.WETH,a.props.page,a.state.NetworkName,"Enable",null,"WETH",o,n,0,null,!1,null):!0===a.props.usdxCoin&&P("loading-supply-usdx-approve",a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName,"Enable",null,"USDx",o,n,0,null,!1,null)}else a.setState({isApproved:!1,pendingApproval:!1,i_clicked_approve_btn:0,buttonText:a.props.approveButtonInfo})}))}))}))},a.handleSupplyClick=function(){if(""!==a.state.supplyAmount&&0!==a.state.supplyAmount&&null!==a.state.supplyAmount){a.setState({isSupplyEnable:!1,supplyButtonText:"SUBMITTING\u2026",supplyInputDisabled:!0,maxClassName:"max-amount-button-disable"});var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.WETH:"Rinkeby"===t&&(e=U.Rinkeby.WETH);var n=a.web3.toBigNumber(a.state.supplyAmount).mul(a.web3.toBigNumber(Math.pow(10,18)));a.state.i_will_supply_max&&(n=a.state.maxSupplyAmount_BN),V().supply.estimateGas(e,n,{from:a.web3.eth.accounts[0]},(function(t,o){a.web3.eth.getGasPrice((function(t,s){V().supply.sendTransaction(e,n,{from:a.web3.eth.accounts[0],gas:o,gasPrice:s},(function(e,t){if(void 0!==t&&null!==t){var n=t,o=J(a.state.NetworkName)+t,s=R(a.state.supplyAmount);!0===a.props.wethCoin?P("loading-supply-weth",a.web3.eth.accounts[0],U.Asset.WETH,a.props.page,a.state.NetworkName,"Supply",s,"WETH",o,n,0,a.web3.toWei(a.state.supplyAmount,"ether"),!1,null):!0===a.props.usdxCoin&&P("loading-supply-usdx",a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName,"Supply",s,"USDx",o,n,0,a.web3.toWei(a.state.supplyAmount,"ether"),!1,null)}else a.setState({isSupplyEnable:!0,supplyInputDisabled:!1})}))}))}))}},a.handleSupplyChange=function(e){if(!(e.length>18)){if(a.setState({i_will_supply_max:!1}),null===e||""===e)return console.log("value === null || value === ''"),void a.setState({isSupplyEnable:!0,supplyButtonText:a.props.supplyButtonInfo,supplyAmount:""});if(a.web3.toBigNumber(e).mul(a.web3.toBigNumber(Math.pow(10,18))).sub(a.state.maxSupplyAmount_BN)>0){a.setState({supplyAmount:e,isSupplyEnable:!1,supplyButtonText:"INSUFFICIENT BALANCE"})}else a.setState({supplyAmount:e}),0===Number(e)?a.setState({isSupplyEnable:!1,supplyButtonText:a.props.supplyButtonInfo}):a.setState({isSupplyEnable:!0})}},a.handleSupplyMax=function(){console.log(a.state.maxSupplyAmount_BN);var e=a.state.maxSupplyAmount_BN.div(a.web3.toBigNumber(Math.pow(10,18))).toLocaleString().substring(0,18);a.setState({supplyAmount:e,i_will_supply_max:!0},(function(){0===Number(a.state.maxSupplyAmount)?a.setState({isSupplyEnable:!1,supplyButtonText:a.props.supplyButtonInfo}):a.setState({isSupplyEnable:!0})}))},a.handleWithdrawChange=function(e){e.length>18||(a.setState({withdrawMax:!1}),console.log(e),null!==e&&""!==e?a.web3.toBigNumber(e).mul(a.web3.toBigNumber(Math.pow(10,18))).sub(a.state.maxWithdrawAmount_BN)>0?a.setState({withdrawAmount:e,isWithdrawEnable:!1,withdrawButtonText:"INSUFFICIENT LIQUIDITY"}):(a.setState({withdrawAmount:e}),0===Number(e)?a.setState({isWithdrawEnable:!1,withdrawButtonText:"INSUFFICIENT LIQUIDITY"}):a.setState({isWithdrawEnable:!0})):a.setState({isWithdrawEnable:!0,withdrawButtonText:a.state.withdrawButtonInfo,withdrawAmount:"",withdrawMax:!1}))},a.handleWithdrawMax=function(){var e=a.state.maxWithdrawAmount_BN.div(a.web3.toBigNumber(Math.pow(10,18))).toLocaleString().substring(0,18);a.setState({withdrawAmount:e,withdrawMax:!0}),0===Number(a.state.maxWithdrawAmount)?a.setState({isWithdrawEnable:!1,withdrawButtonText:"INSUFFICIENT LIQUIDITY"}):a.setState({isWithdrawEnable:!0})},a.handleWithdrawClick=function(){if(""!==a.state.withdrawAmount&&0!==Number(a.state.withdrawAmount)&&null!==a.state.withdrawAmount){a.state.withdrawAmount>a.state.maxWithdrawAmount&&a.setState({withdrawAmount:a.state.maxWithdrawAmount});var e=a.web3.toBigNumber(a.state.withdrawAmount).mul(a.web3.toBigNumber(Math.pow(10,18)));a.state.withdrawMax&&(e=-1),a.setState({isWithdrawEnable:!1,withdrawButtonText:"SUBMITTING\u2026",withdrawInputDisabled:!0,withdrawMaxClassName:"max-amount-button-disable"});var t="",n=L(a.state.NetworkName);"Main"===n?t=U.Main.WETH:"Rinkeby"===n&&(t=U.Rinkeby.WETH),V().withdraw.estimateGas(t,e,{from:a.web3.eth.accounts[0]},(function(n,o){a.web3.eth.getGasPrice((function(n,s){V().withdraw.sendTransaction(t,e,{from:a.web3.eth.accounts[0],gas:o,gasPrice:s},(function(t,n){if(void 0!==n&&null!==n){var o=n,s=J(a.state.NetworkName)+n,i=R(-1===e?a.state.maxWithdrawAmount:a.state.withdrawAmount);!0===a.props.wethCoin?P("loading-supply-withdraw-weth",a.web3.eth.accounts[0],U.Asset.WETH,a.props.page,a.state.NetworkName,"Withdraw",i,"WETH",s,o,0,!0===a.state.withdrawMax?-1:a.web3.toWei(a.state.withdrawAmount,"ether"),!1,null):!0===a.props.usdxCoin&&P("loading-supply-withdraw-usdx",a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName,"Withdraw",i,"USDx",s,o,0,!0===a.state.withdrawMax?-1:a.web3.toWei(a.state.withdrawAmount,"ether"),!1,null)}else a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1})}))}))}))}},a.handleWrapChange=function(e){e.length>18||(null!==e&&""!==e?a.web3.toBigNumber(e).mul(a.web3.toBigNumber(Math.pow(10,18))).sub(a.state.ethAccountBalance_BN)>0?a.setState({wrapAmount:e,isWrapEnable:!1}):(a.setState({wrapAmount:e}),0===Number(e)?a.setState({isWrapEnable:!1}):a.setState({isWrapEnable:!0})):a.setState({wrapAmount:"",isWrapEnable:!0}))},a.handleWrapClick=function(){""!==a.state.wrapAmount&&void 0!==a.web3.eth.accounts[0]&&(a.setState({isWrapEnable:!1,wrapInputDisabled:!0}),Y().deposit.estimateGas({from:a.web3.eth.accounts[0],value:a.web3.toWei(a.state.wrapAmount,"ether")},(function(e,t){console.log("gasLimit:"+t),a.web3.eth.getGasPrice((function(e,n){console.log("gasPrice:"+n),void 0!==n||null!==n?Y().deposit.sendTransaction({from:a.web3.eth.accounts[0],value:a.web3.toWei(a.state.wrapAmount,"ether"),gas:t,gasPrice:n},(function(e,t){if(void 0!==t&&null!==t){var n=t,o=J(a.state.NetworkName)+t;P("loading-supply-wrap",a.web3.eth.accounts[0],U.Asset.WETH,a.props.page,a.state.NetworkName,"Wrap",R(a.state.wrapAmount),"ETH",o,n,0,a.web3.toWei(a.state.wrapAmount,"ether"),!1,null)}else a.setState({isWrapEnable:!0,wrapInputDisabled:!1})})):console.err("gasPrice is "+n)}))})))},a.handleunwrapChange=function(e){e.length>18||(a.setState({i_will_unwrap_max:!1}),console.log(e),null!==e&&""!==e?a.web3.toBigNumber(e).mul(a.web3.toBigNumber(Math.pow(10,18))).sub(a.state.maxUnwrapAmount_BN)>0?a.setState({unwrapAmount:e,isunwrapEnable:!1}):(a.setState({unwrapAmount:e}),0===Number(e)?a.setState({isunwrapEnable:!1}):a.setState({isunwrapEnable:!0})):a.setState({unwrapAmount:"",isunwrapEnable:!0}))},a.handleunwrapMax=function(){var e=a.state.maxUnwrapAmount_BN.div(a.web3.toBigNumber(Math.pow(10,18))).toLocaleString().substring(0,18);a.setState({unwrapAmount:e,i_will_unwrap_max:!0},(function(){0===Number(a.state.maxUnwrapAmount)?a.setState({isunwrapEnable:!1}):a.setState({isunwrapEnable:!0})}))},a.handleunwrapClick=function(){if(""!==a.state.unwrapAmount&&null!==a.state.unwrapAmount&&0!==Number(a.state.unwrapAmount)){a.setState({isunwrapEnable:!1,unwrapInputDisabled:!0,unwrapMaxClassName:"max-amount-button-disable"});var e=a.web3.toBigNumber(a.state.unwrapAmount).mul(a.web3.toBigNumber(Math.pow(10,18)));a.state.i_will_unwrap_max&&(e=a.state.maxUnwrapAmount_BN),Y().withdraw.estimateGas(e,{from:a.web3.eth.accounts[0]},(function(t,n){a.web3.eth.getGasPrice((function(t,o){Y().withdraw.sendTransaction(e,{from:a.web3.eth.accounts[0],gas:n,gasPrice:o},(function(e,t){if(void 0!==t&&null!==t){var n=t,o=J(a.state.NetworkName)+t;P("loading-supply-unwrap",a.web3.eth.accounts[0],U.Asset.WETH,a.props.page,a.state.NetworkName,"Unwrap",R(a.state.unwrapAmount),"ETH",o,n,0,a.web3.toWei(a.state.unwrapAmount,"ether"),!1,null)}else a.setState({isunwrapEnable:!0,unwrapInputDisabled:!1})}))}))}))}},a.usdxEventMonitor=function(){if(void 0!==q()){var e=Object(S.a)(a);q().Approval().watch((function(t,n){if(console.log("watch lend-> approvalUSDXEvent:"+JSON.stringify(n)),t)console.log("watch lend usdxEventMonitor approvalUSDXEvent error --\x3e "+JSON.stringify(t));else{var o=null,s=null,i=null;if(window.localStorage){if("undefined"===typeof web3)return;o=window.localStorage,i=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName),s=JSON.parse("".concat(o.getItem(i)))}if(null!==s){var r=JSON.parse(JSON.stringify(n)).transactionHash;a.getAllowance(),a.setState({pendingApproval:!1,isApproved:!0}),o.removeItem(i),s=s.map((function(t){if(0===t.status&&"Enable"===t.transactionType&&t.txId!==r){var a=J(e.state.NetworkName)+r;return oe({},t,{icon:"done",status:1,txId:r,txnHashHref:a})}return t.txId===r?oe({},t,{icon:"done",status:1}):oe({},t)})),o.setItem(i,JSON.stringify(s))}}}))}},a.wethEventMonitor=function(){if(void 0!==Y()){var e=Object(S.a)(a);Y().Approval().watch((function(t,n){if(console.log("watch -> approvalWETHEvent:"+JSON.stringify(n)),t)console.log("watch wethEventMonitor approvalWETHEvent error --\x3e "+JSON.stringify(t));else{var o=null,s=null,i=null;if(window.localStorage){if("undefined"===typeof web3)return;o=window.localStorage,i=C(e.props.account,U.Asset.WETH,e.props.page,e.state.NetworkName),s=JSON.parse("".concat(o.getItem(i)))}if(null!==s){var r=JSON.parse(JSON.stringify(n)).transactionHash;a.getAllowance(),a.setState({pendingApproval:!1,isApproved:!0}),o.removeItem(i),s=s.map((function(e){if(0===e.status&&"Enable"===e.transactionType&&e.txId!==r){var t=J(a.state.NetworkName)+r;return oe({},e,{icon:"done",status:1,txId:r,txnHashHref:t})}return e.txId===r?oe({},e,{icon:"done",status:1}):oe({},e)})),o.setItem(i,JSON.stringify(s))}}})),Y().Deposit().watch((function(t,n){if(console.log("watch -> depositWETHEvent:"+JSON.stringify(n)),t)console.log("watch wethEventMonitor depositWETHEvent error --\x3e "+JSON.stringify(t));else{var o=null,s=null,i=null;if(window.localStorage){if("undefined"===typeof web3)return;o=window.localStorage,i=C(e.props.account,U.Asset.WETH,e.props.page,e.state.NetworkName),s=JSON.parse("".concat(o.getItem(i)))}if(null!==s){var r=JSON.parse(JSON.stringify(n)),u=r.transactionHash;a.refreshData(),a.getAccountETHBalance(),a.setState({wrapAmount:"",isWrapEnable:!0,wrapInputDisabled:!1}),a.setState({isSupplyEnable:!0,supplyButtonText:a.props.supplyButtonInfo,supplyAmount:""}),a.setState({unwrapAmount:"",isunwrapEnable:!0}),a.setState({withdrawAmount:"",withdrawMax:!1,isWithdrawEnable:!0}),o.removeItem(i);var l=JSON.parse(JSON.stringify(r.args));s=s.map((function(t){if(0===t.status&&"Wrap"===t.transactionType&&t.realAmount===l.wad&&t.txId!==u){var a=J(e.state.NetworkName)+u;return oe({},t,{icon:"done",status:1,txId:u,txnHashHref:a})}return t.txId===u?oe({},t,{icon:"done",status:1}):oe({},t)})),o.setItem(i,JSON.stringify(s))}}})),Y().Withdrawal().watch((function(t,n){if(console.log("watch -> withdrawalWETHEvent:"+JSON.stringify(n)),t)console.log("watch wethEventMonitor withdrawalWETHEvent error --\x3e "+JSON.stringify(t));else{var o=null,s=null,i=null;if(window.localStorage){if("undefined"===typeof web3)return;o=window.localStorage,i=C(e.props.account,U.Asset.WETH,e.props.page,e.state.NetworkName),s=JSON.parse("".concat(o.getItem(i)))}if(null!==s){var r=JSON.parse(JSON.stringify(n)),u=r.transactionHash;a.refreshData(),a.setState({unwrapAmount:"",isunwrapEnable:!0,supplyAmount:"",unwrapInputDisabled:!1,maxClassName:"max-amount-button"}),o.removeItem(i);var l=JSON.parse(JSON.stringify(r.args));s=s.map((function(t){if(0===t.status&&"Unwrap"===t.transactionType&&t.realAmount===l.wad&&t.txId!==u){var a=J(e.state.NetworkName)+u;return oe({},t,{icon:"done",status:1,txId:u,txnHashHref:a})}return t.txId===u?oe({},t,{icon:"done",status:1}):oe({},t)})),o.setItem(i,JSON.stringify(s))}}}))}},a.refreshData=function(){a.getAccountETHBalance(),a.getAccountBalance(),a.get_My_WETH_Supplied_max_Withdraw_WETH_Amount()},a.checkWaitingUpdateTransactionRecords=function(){var e=null,t=null,n=null;if(window.localStorage){if("undefined"===typeof web3)return;e=window.localStorage,!0===a.props.wethCoin?n=C(a.web3.eth.accounts[0],U.Asset.WETH,a.props.page,a.state.NetworkName):!0===a.props.usdxCoin&&(n=C(a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName)),t=JSON.parse("".concat(e.getItem(n)))}null!==t&&(e.removeItem(n),t=t.map((function(e){if("loading-supply-wrap"===e.icon){if(void 0!==a.state.supplyWrapWaitUpdateForSuccessMap.get(e.txId))return a.setState({isWrapEnable:!0,wrapInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.getAccountETHBalance(),a.setState({wrapAmount:"",isWrapEnable:!0,wrapInputDisabled:!1})),oe({},e,{icon:"done",status:1});if(void 0!==a.state.supplyWrapWaitUpdateForFailedMap.get(e.txId))return a.setState({isWrapEnable:!0,wrapInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.getAccountETHBalance(),a.setState({wrapAmount:"",isWrapEnable:!0,wrapInputDisabled:!1})),oe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"WRAP FAILURE"});if(void 0!==a.state.supplyWrapWaitTimeOutMap.get(e.txId))return oe({},e,{timeOutFlag:1})}if("loading-supply-unwrap"===e.icon){if(void 0!==a.state.supplyUnwrapWaitUpdateForSuccessMap.get(e.txId))return a.setState({isunwrapEnable:!0,unwrapInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({unwrapAmount:"",isunwrapEnable:!0,supplyAmount:"",unwrapInputDisabled:!1,maxClassName:"max-amount-button"})),oe({},e,{icon:"done",status:1});if(void 0!==a.state.supplyUnwrapWaitUpdateForFailedMap.get(e.txId))return a.setState({isunwrapEnable:!0,unwrapInputDisabled:!1}),oe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"UNWRAP FAILURE"});if(void 0!==a.state.supplyUnwrapWaitUpdateForFailedMap.get(e.txId))return oe({},e,{timeOutFlag:1})}if("loading-supply-weth"===e.icon){if(void 0!==a.state.supplyWETHWaitUpdateForSuccessMap.get(e.txId))return a.setState({isSupplyEnable:!0,supplyInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),a.setState({isWithdrawEnable:!0}),a.setState({withdrawAmount:null,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),!0===a.props.wethCoin&&a.setState({unwrapAmount:""})),oe({},e,{icon:"supply",status:1});if(void 0!==a.state.supplyWETHWaitUpdateForFailedMap.get(e.txId))return a.setState({isSupplyEnable:!0,supplyInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),!0===a.props.wethCoin&&a.setState({unwrapAmount:""}),a.setState({isWithdrawEnable:!0,supplyAmount:"",withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),a.setState({withdrawAmount:null,withdrawMax:!1})),oe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"SUPPLY WETH FAILURE"});if(void 0!==a.state.supplyWETHWaitTimeOutMap.get(e.txId))return oe({},e,{timeOutFlag:1})}if("loading-supply-withdraw-weth"===e.icon){if(void 0!==a.state.withdrawWETHWaitUpdateForSuccessMap.get(e.txId))return a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isWithdrawEnable:!0,supplyAmount:""}),a.setState({withdrawAmount:null,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"})),oe({},e,{icon:"withdraw",status:1});if(void 0!==a.state.withdrawWETHWaitUpdateForFailedMap.get(e.txId))return a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),!0===a.props.wethCoin&&a.setState({unwrapAmount:""}),a.setState({isWithdrawEnable:!0,supplyAmount:"",withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),a.setState({withdrawAmount:null,withdrawMax:!1})),oe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"WITHDRAW WETH FAILURE"});if(void 0!==a.state.withdrawWETHWaitTimeOutMap.get(e.txId))return oe({},e,{timeOutFlag:1})}if("loading-supply-usdx"===e.icon){if(void 0!==a.state.supplyUSDxWaitUpdateForSuccessMap.get(e.txId))return a.setState({isSupplyEnable:!0,supplyInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),a.setState({isWithdrawEnable:!0}),a.setState({withdrawAmount:null,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),!0===a.props.wethCoin&&a.setState({unwrapAmount:""})),oe({},e,{icon:"supply",status:1});if(void 0!==a.state.supplyUSDxWaitUpdateForFailedMap.get(e.txId))return a.setState({isSupplyEnable:!0,supplyInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),!0===a.props.wethCoin&&a.setState({unwrapAmount:""}),a.setState({isWithdrawEnable:!0,supplyAmount:"",withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),a.setState({withdrawAmount:null,withdrawMax:!1})),oe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"TRANSACTION FAILURE"});if(void 0!==a.state.supplyUSDxWaitTimeOutMap.get(e.txId))return oe({},e,{timeOutFlag:1})}if("loading-supply-withdraw-usdx"===e.icon){if(void 0!==a.state.withdrawUSDxWaitUpdateForSuccessMap.get(e.txId))return a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isWithdrawEnable:!0,supplyAmount:""}),a.setState({withdrawAmount:null,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"})),oe({},e,{icon:"withdraw",status:1});if(void 0!==a.state.withdrawUSDxWaitUpdateForFailedMap.get(e.txId))return a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),!0===a.props.wethCoin&&a.setState({unwrapAmount:""}),a.setState({isWithdrawEnable:!0,supplyAmount:"",withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),a.setState({withdrawAmount:null,withdrawMax:!1})),oe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"WITHDRAW USDx FAILURE"});if(void 0!==a.state.withdrawUSDxWaitTimeOutMap.get(e.txId))return oe({},e,{timeOutFlag:1})}if("loading-supply-weth-approve"===e.icon){if(void 0!==a.state.enableWETHWaitUpdateForSuccessMap.get(e.txId))return a.setState({pendingApproval:!1,isApproved:!0}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&a.setState({pendingApproval:!1,isApproved:!0}),oe({},e,{icon:"done",status:1});if(void 0!==a.state.enableWETHWaitUpdateForFailedMap.get(e.txId))return a.setState({pendingApproval:!1,isApproved:!0}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&a.setState({pendingApproval:!1,isApproved:!0}),oe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"ENABLE WETH FAILURE"});if(void 0!==a.state.enableWETHWaitTimeOutMap.get(e.txId))return oe({},e,{timeOutFlag:1})}if("loading-supply-usdx-approve"===e.icon){if(void 0!==a.state.enableUSDxWaitUpdateForSuccessMap.get(e.txId))return a.setState({pendingApproval:!1,isApproved:!0}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&a.setState({pendingApproval:!1,isApproved:!0}),oe({},e,{icon:"done",status:1});if(void 0!==a.state.enableUSDxWaitUpdateForFailedMap.get(e.txId))return a.setState({pendingApproval:!1,isApproved:!0}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&a.setState({pendingApproval:!1,isApproved:!0}),oe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"ENABLE USDx FAILURE"});if(void 0!==a.state.enableUSDxWaitTimeOutMap.get(e.txId))return oe({},e,{timeOutFlag:1})}return oe({},e)})),e.setItem(n,JSON.stringify(t)))},a.checkTransactionsStatus=function(){var e=null,t=null,n=null;if(window.localStorage){if("undefined"===typeof web3)return;e=window.localStorage,!0===a.props.wethCoin?n=C(a.web3.eth.accounts[0],U.Asset.WETH,a.props.page,a.state.NetworkName):!0===a.props.usdxCoin&&(n=C(a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName)),t=JSON.parse("".concat(e.getItem(n)))}null!==t&&(t=t.map((function(e){if("loading-supply-wrap"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var t=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(t=1,a.setState({isWrapEnable:!0,wrapInputDisabled:!1,wrapAmount:""})):a.setState({isWrapEnable:!1,wrapInputDisabled:!0});var n=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(n=1),t&&"0x0"===t.status&&(n=0)})),setTimeout((function(){1===n&&void 0===a.state.supplyWrapWaitUpdateForSuccessMap.get(e.txId)&&a.state.supplyWrapWaitUpdateForSuccessMap.set(e.txId,e),0===n&&void 0===a.state.supplyWrapWaitUpdateForFailedMap.get(e.txId)&&a.state.supplyWrapWaitUpdateForFailedMap.set(e.txId,e),1===t&&void 0===a.state.supplyWrapWaitTimeOutMap.get(e.txId)&&a.state.supplyWrapWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isWrapEnable:!0,wrapInputDisabled:!1})}if("loading-supply-unwrap"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var o=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(o=1,a.setState({isunwrapEnable:!0,unwrapAmount:"",unwrapInputDisabled:!1,unwrapMaxClassName:"max-amount-button"})):a.setState({isunwrapEnable:!1,unwrapInputDisabled:!0,unwrapMaxClassName:"max-amount-button-disable"});var s=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(s=1),t&&"0x0"===t.status&&(s=0)})),setTimeout((function(){1===s&&void 0===a.state.supplyUnwrapWaitUpdateForSuccessMap.get(e.txId)&&a.state.supplyUnwrapWaitUpdateForSuccessMap.set(e.txId,e),0===s&&void 0===a.state.supplyUnwrapWaitUpdateForFailedMap.get(e.txId)&&a.state.supplyUnwrapWaitUpdateForFailedMap.set(e.txId,e),1===o&&void 0===a.state.supplyUnwrapWaitTimeOutMap.get(e.txId)&&a.state.supplyUnwrapWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isunwrapEnable:!0,unwrapInputDisabled:!1})}if("loading-supply-weth"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var i=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(i=1,a.setState({isSupplyEnable:!0,supplyAmount:"",supplyButtonText:a.props.supplyButtonInfo,supplyInputDisabled:!1,maxClassName:"max-amount-button"})):a.setState({isSupplyEnable:!1,supplyButtonText:"SUBMITTING\u2026",supplyInputDisabled:!0,maxClassName:"max-amount-button-disable"});var r=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(r=1),t&&"0x0"===t.status&&(r=0)})),setTimeout((function(){1===r&&void 0===a.state.supplyWETHWaitUpdateForSuccessMap.get(e.txId)&&a.state.supplyWETHWaitUpdateForSuccessMap.set(e.txId,e),0===r&&void 0===a.state.supplyWETHWaitUpdateForFailedMap.get(e.txId)&&a.state.supplyWETHWaitUpdateForFailedMap.set(e.txId,e),1===i&&void 0===a.state.supplyWETHWaitTimeOutMap.get(e.txId)&&a.state.supplyWETHWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isSupplyEnable:!0,supplyInputDisabled:!1})}if("loading-supply-withdraw-weth"===e.icon)if(0===e.status){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;var u=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(u=1,a.setState({isWithdrawEnable:!0,withdrawAmount:"",withdrawMax:!1,withdrawButtonText:a.state.withdrawButtonInfo,withdrawInputDisabled:!0,withdrawMaxClassName:"max-amount-button"})):a.setState({isWithdrawEnable:!1,withdrawButtonText:"SUBMITTING\u2026",withdrawInputDisabled:!0,withdrawMaxClassName:"max-amount-button-disable"});var l=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(l=1),t&&"0x0"===t.status&&(l=0)})),setTimeout((function(){1===l&&void 0===a.state.withdrawWETHWaitUpdateForSuccessMap.get(e.txId)&&a.state.withdrawWETHWaitUpdateForSuccessMap.set(e.txId,e),0===l&&void 0===a.state.withdrawWETHWaitUpdateForFailedMap.get(e.txId)&&a.state.withdrawWETHWaitUpdateForFailedMap.set(e.txId,e),1===u&&void 0===a.state.withdrawWETHWaitTimeOutMap.get(e.txId)&&a.state.withdrawWETHWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1});if("loading-supply-usdx"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var p=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(p=1,a.setState({isSupplyEnable:!0,supplyAmount:"",supplyInputDisabled:!1,supplyButtonText:a.props.supplyButtonInfo,maxClassName:"max-amount-button"})):a.setState({isSupplyEnable:!1,supplyButtonText:"SUBMITTING\u2026",supplyInputDisabled:!0,maxClassName:"max-amount-button-disable"});var c=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(c=1),t&&"0x0"===t.status&&(c=0)})),setTimeout((function(){1===c&&void 0===a.state.supplyUSDxWaitUpdateForSuccessMap.get(e.txId)&&a.state.supplyUSDxWaitUpdateForSuccessMap.set(e.txId,e),0===c&&void 0===a.state.supplyUSDxWaitUpdateForFailedMap.get(e.txId)&&a.state.supplyUSDxWaitUpdateForFailedMap.set(e.txId,e),1===p&&void 0===a.state.supplyUSDxWaitTimeOutMap.get(e.txId)&&a.state.supplyUSDxWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isSupplyEnable:!0,supplyInputDisabled:!1})}if("loading-supply-withdraw-usdx"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var d=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(d=1,a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1,withdrawButtonText:a.props.withdrawButtonInfo,withdrawMax:!1,withdrawMaxClassName:"max-amount-button"})):a.setState({isWithdrawEnable:!1,withdrawButtonText:"SUBMITTING\u2026",withdrawInputDisabled:!0,withdrawMaxClassName:"max-amount-button-disable"});var m=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(m=1),t&&"0x0"===t.status&&(m=0)})),setTimeout((function(){1===m&&void 0===a.state.withdrawUSDxWaitUpdateForSuccessMap.get(e.txId)&&a.state.withdrawUSDxWaitUpdateForSuccessMap.set(e.txId,e),0===m&&void 0===a.state.withdrawUSDxWaitUpdateForFailedMap.get(e.txId)&&a.state.withdrawUSDxWaitUpdateForFailedMap.set(e.txId,e),1===d&&void 0===a.state.withdrawUSDxWaitTimeOutMap.get(e.txId)&&a.state.withdrawUSDxWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1})}if("loading-supply-weth-approve"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var w=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(w=1,a.setState({isApproved:!1,pendingApproval:!1}),a.setState({buttonText:a.props.approveButtonInfo})):a.setState({buttonText:"ENABLEING WETH...",pendingApproval:!0});var b=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(b=1),t&&"0x0"===t.status&&(b=0)})),setTimeout((function(){1===b&&void 0===a.state.enableWETHWaitUpdateForSuccessMap.get(e.txId)&&a.state.enableWETHWaitUpdateForSuccessMap.set(e.txId,e),0===b&&void 0===a.state.enableWETHWaitUpdateForFailedMap.get(e.txId)&&a.state.enableWETHWaitUpdateForFailedMap.set(e.txId,e),1===w&&void 0===a.state.enableWETHWaitTimeOutMap.get(e.txId)&&a.state.enableWETHWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({pendingApproval:!1})}if("loading-supply-usdx-approve"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var y=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(y=1,a.setState({isApproved:!1,pendingApproval:!1}),a.setState({buttonText:a.props.approveButtonInfo})):a.setState({buttonText:"ENABLEING USDx...",pendingApproval:!0});var f=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(f=1),t&&"0x0"===t.status&&(f=0)})),setTimeout((function(){1===f&&void 0===a.state.enableUSDxWaitUpdateForSuccessMap.get(e.txId)&&a.state.enableUSDxWaitUpdateForSuccessMap.set(e.txId,e),0===f&&void 0===a.state.enableUSDxWaitUpdateForFailedMap.get(e.txId)&&a.state.enableUSDxWaitUpdateForFailedMap.set(e.txId,e),1===y&&void 0===a.state.enableUSDxWaitTimeOutMap.get(e.txId)&&a.state.enableUSDxWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({pendingApproval:!1})}return e.id})))},a.mmMonitor=function(){if(void 0!==V()){var e=Object(S.a)(a);V().SupplyReceived().watch((function(t,a){if(console.log("watch -> supplyReceivedEvent:"+JSON.stringify(a)),t)console.log("watch mmMonitor supplyReceivedEvent error --\x3e "+JSON.stringify(t));else{var n=null,o=null,s=null;if(window.localStorage){if("undefined"===typeof web3)return;n=window.localStorage,!0===e.props.wethCoin?s=C(e.props.account,U.Asset.WETH,e.props.page,e.state.NetworkName):!0===e.props.usdxCoin&&(s=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName)),o=JSON.parse("".concat(n.getItem(s)))}if(null!==o){var i=JSON.parse(JSON.stringify(a)),r=i.transactionHash;e.refreshData(),e.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),e.setState({withdrawAmount:null,isWithdrawEnable:!0,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),!0===e.props.wethCoin&&e.setState({unwrapAmount:""}),n.removeItem(s);var u=JSON.parse(JSON.stringify(i.args));o=o.map((function(t){if(0===t.status&&"Supply"===t.transactionType&&t.realAmount===u.amount&&t.txId!==r){var a=J(e.state.NetworkName)+r;return oe({},t,{icon:"supply",status:1,txId:r,txnHashHref:a})}return t.txId===r?oe({},t,{icon:"supply",status:1}):oe({},t)})),n.setItem(s,JSON.stringify(o))}}})),V().SupplyWithdrawn().watch((function(t,a){if(console.log("watch -> supplyWithdrawnEvent:"+JSON.stringify(a)),t)console.log("watch mmMonitor supplyWithdrawnEvent error --\x3e "+JSON.stringify(t));else{var n=null,o=null,s=null;if(window.localStorage){if("undefined"===typeof web3)return;n=window.localStorage,!0===e.props.wethCoin?s=C(e.props.account,U.Asset.WETH,e.props.page,e.state.NetworkName):!0===e.props.usdxCoin&&(s=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName)),o=JSON.parse("".concat(n.getItem(s)))}if(null!==o){var i=JSON.parse(JSON.stringify(a)),r=i.transactionHash;e.refreshData(),e.setState({isWithdrawEnable:!0,supplyAmount:""}),e.setState({withdrawAmount:null,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),n.removeItem(s);var u=JSON.parse(JSON.stringify(i.args));o=o.map((function(t){if(0===t.status&&"Withdraw"===t.transactionType&&t.realAmount===u.amount&&t.txId!==r){var a=J(e.state.NetworkName)+r;return oe({},t,{icon:"withdraw",status:1,txId:r,txnHashHref:a})}return t.txId===r?oe({},t,{icon:"withdraw",status:1}):oe({},t)})),n.setItem(s,JSON.stringify(o))}}})),V().Failure().watch((function(t,a){if(console.log("watch -> failureEvent:"+JSON.stringify(a)),t)console.log("watch mmMonitor failureEvent error --\x3e "+JSON.stringify(t));else{var n=null,o=null,s=null;if(window.localStorage){if("undefined"===typeof web3)return;n=window.localStorage,!0===e.props.wethCoin?s=C(e.props.account,U.Asset.WETH,e.props.page,e.state.NetworkName):!0===e.props.usdxCoin&&(s=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName)),o=JSON.parse("".concat(n.getItem(s)))}if(null!==o){var i=JSON.parse(JSON.stringify(a)),r=i.transactionHash;e.refreshData(),e.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),!0===e.props.wethCoin&&e.setState({unwrapAmount:""}),e.setState({isWithdrawEnable:!0,supplyAmount:"",withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),e.setState({withdrawAmount:null,withdrawMax:!1}),n.removeItem(s),o=o.map((function(e){if(e.txId===r){var t=i.args,a=JSON.parse(JSON.stringify(t));return console.log("failure info:"+ae[a.error]),oe({},e,{icon:"failure",status:1,failed:!0,failedInfo:ae[a.error]})}return oe({},e)})),n.setItem(s,JSON.stringify(o))}}}))}},a.refreshDataEventMonitor=function(){void 0!==V()&&V().allEvents({toBlock:"latest"}).watch((function(e,t){if(e)console.log("watch error --\x3e "+JSON.stringify(e));else{var n=JSON.parse(JSON.stringify(t)).event;"BorrowTaken"!==n&&"BorrowRepaid"!==n||(a.setState({withdrawAmount:""}),a.get_My_WETH_Supplied_max_Withdraw_WETH_Amount(),a.getAccountBalance(),a.getMyAddressWETHBalance())}}))},a.componentDidMount_temp=function(){void 0!==window.web3&&void 0===window.ethereum.isImToken&&(a.usdxEventMonitor(),a.wethEventMonitor()),a.checkTransactionsStatusTimer=setInterval((function(){a.checkTransactionsStatus()}),1e3),a.checkWaitingUpdateTimer=setInterval((function(){a.checkWaitingUpdateTransactionRecords()}),15e3),void 0!==window.web3&&void 0===window.ethereum.isImToken&&(a.mmMonitor(),a.refreshDataEventMonitor()),a.getAllowance(),a.getAccountETHBalance(),a.getAccountBalance(),a.getMyAddressWETHBalance(),a.get_My_WETH_Supplied_max_Withdraw_WETH_Amount(),a.get_Supplied_WETH(),a.get_my_ETH(),a.get_my_WETH(),a.refreshInterval=setInterval((function(){a.get_My_WETH_Supplied_max_Withdraw_WETH_Amount(),a.getAccountBalance(),a.getMyAddressWETHBalance(),a.get_Supplied_WETH(),a.get_my_ETH(),a.get_my_WETH()}),15e3)},a.get_Supplied_WETH=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.WETH:"Rinkeby"===t&&(e=U.Rinkeby.WETH),V().getSupplyBalance(a.web3.eth.accounts[0],e,(function(e,t){t&&a.setState({supplied_weth_Balance:a.web3.fromWei(t.toNumber(),"ether")})}))}},a.get_my_ETH=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.web3.eth.getBalance(a.web3.eth.accounts[0],(function(e,t){t&&a.setState({my_eth_Balance:O(a.web3.fromWei(t.toNumber(),"ether"))})}))},a.get_my_WETH=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&Y().balanceOf(a.web3.eth.accounts[0],(function(e,t){t&&a.setState({my_weth_Balance:O(a.web3.fromWei(t.toNumber(),"ether"))})}))},a.state={currentUser:"",pendingApproval:!1,isApproved:!1,isSupplyEnable:!0,isWithdrawEnable:!0,isWrapEnable:!0,isunwrapEnable:!0,supplyAmount:"",withdrawAmount:"",withdrawMax:!1,maxWithdrawAmount:0,maxUnwrapAmount:0,wrapAmount:"",unwrapAmount:"",coinAllowance:0,accountBalance:0,ethAccountBalance:0,wethAccountBalance:0,supplyAccountBalance:0,supplyWETHBalance:0,buttonText:"",supplyButtonText:"",withdrawButtonText:"",collateralRatio:0,assetBalance:0,gasPrice:0,gasLimit:0,supplyAssetPrice:0,calcWETHPrice:0,supplyInputDisabled:!1,withdrawInputDisabled:!1,wrapInputDisabled:!1,unwrapInputDisabled:!1,maxClassName:"max-amount-button",withdrawMaxClassName:"max-amount-button",unwrapMaxClassName:"max-amount-button",supplyUSDxWaitUpdateForSuccessMap:new Map,supplyUSDxWaitUpdateForFailedMap:new Map,supplyUSDxWaitTimeOutMap:new Map,withdrawUSDxWaitUpdateForSuccessMap:new Map,withdrawUSDxWaitUpdateForFailedMap:new Map,withdrawUSDxWaitTimeOutMap:new Map,supplyWrapWaitUpdateForSuccessMap:new Map,supplyWrapWaitUpdateForFailedMap:new Map,supplyWrapWaitTimeOutMap:new Map,supplyUnwrapWaitUpdateForSuccessMap:new Map,supplyUnwrapWaitUpdateForFailedMap:new Map,supplyUnwrapWaitTimeOutMap:new Map,supplyWETHWaitUpdateForSuccessMap:new Map,supplyWETHWaitUpdateForFailedMap:new Map,supplyWETHWaitTimeOutMap:new Map,withdrawWETHWaitUpdateForSuccessMap:new Map,withdrawWETHWaitUpdateForFailedMap:new Map,withdrawWETHWaitTimeOutMap:new Map,enableUSDxWaitUpdateForSuccessMap:new Map,enableUSDxWaitUpdateForFailedMap:new Map,enableUSDxWaitTimeOutMap:new Map,enableWETHWaitUpdateForSuccessMap:new Map,enableWETHWaitUpdateForFailedMap:new Map,enableWETHWaitTimeOutMap:new Map,timeOutTimes:5,i_clicked_approve_btn:0},a.web3=window.web3,void 0===window.ethereum?Object(m.a)(a):(window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(e){setTimeout(a.refreshData(),500),a.getAllowance(),a.get_My_WETH_Supplied_max_Withdraw_WETH_Amount(),a.getAccountBalance(),a.getMyAddressWETHBalance(),a.setState({supplyAmount:"",withdrawAmount:"",wrapAmount:"",unwrapAmount:""}),a.setState({isWrapEnable:!0,wrapInputDisabled:!1}),a.setState({isunwrapEnable:!0,unwrapInputDisabled:!1}),a.setState({isSupplyEnable:!0,supplyInputDisabled:!1}),a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1}),a.setState({pendingApproval:!1})})),window.web3.currentProvider.enable().then((function(e){a.setState({isLogIn:!0},(function(){window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){setTimeout((function(){a.componentDidMount_temp()}),2e3)}))}))}))})),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.componentDidMount_temp()})),a)}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.refreshInterval),clearInterval(this.accountInterval),clearInterval(this.checkTransactionsStatusTimer),clearInterval(this.checkWaitingUpdateTimer)}},{key:"render",value:function(){var e=this,t={enableMessage:"Before supplying ".concat(this.props.balanceType," for the first time, you must enable ").concat(this.props.balanceType,"."),isEnable:!this.state.pendingApproval,buttonInfo:this.state.isApproved?this.props.approveButtonInfo:""===this.state.buttonText?this.props.approveButtonInfo:this.state.buttonText,handleClick:this.handleApprove,page:this.props.page};return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"supply-input"},o.a.createElement("div",{className:"info-wrapper"},o.a.createElement("span",{className:"balance-type"},o.a.createElement("img",{style:{width:"16px",height:"16px",margin:"auto",marginTop:"-4px"},src:"images/WETH@2x.png",alt:""}),"\xa0",o.a.createElement(N.a,{id:"WETH_Supplied"})),o.a.createElement("span",{className:"balance-amount"},this.state.supplied_weth_Balance?R(this.state.supplied_weth_Balance):"-")),o.a.createElement(x.a,{className:"tab-wrapper",animated:!0,size:"large",onChange:this.changePane},o.a.createElement(se,{tab:"SUPPLY"===this.props.tabLeftName?"zh-CN"===navigator.language?"\u5b58\u6b3e":"SUPPLY":this.props.tabLeftName,key:"1",className:"tab-content"},1==this.props.father_approve_WETH?o.a.createElement("span",null,o.a.createElement("div",{className:"balance-info"},o.a.createElement("span",{className:"balance-desc"},o.a.createElement(N.a,{id:"ETH_Balance"})),o.a.createElement("span",{className:"balance-amount"},this.state.my_eth_Balance?R(this.state.my_eth_Balance):"-","\xa0ETH")),o.a.createElement("div",{className:"input-wrap-unit-wrapper"},o.a.createElement("div",{className:"wrap-input-wrapper"},o.a.createElement("div",{className:"input-wrapper"},o.a.createElement(v.a,{type:"number",placeholder:"Ether to Wrap",min:0,value:this.state.wrapAmount,onChange:function(t){return e.handleWrapChange(t.target.value)},className:"input-number",disabled:this.state.wrapInputDisabled})),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement(g.a,{size:"large",className:this.state.isWrapEnable?"":"disable-button",onClick:this.handleWrapClick,disabled:!this.state.isWrapEnable},this.props.wrapButtonInfo)))),o.a.createElement("div",{className:"input-unwrap-unit-wrapper"},o.a.createElement("div",{className:"input-wrapper"},o.a.createElement(v.a,{type:"number",placeholder:"WETH to Unwrap",min:0,value:this.state.unwrapAmount,onChange:function(t){return e.handleunwrapChange(t.target.value)},className:"input-number",disabled:this.state.unwrapInputDisabled}),o.a.createElement("span",{className:this.state.unwrapMaxClassName,onClick:this.state.unwrapInputDisabled?"":this.handleunwrapMax},"MAX")),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement(g.a,{size:"large",className:this.state.isunwrapEnable?"":"disable-button",onClick:this.handleunwrapClick,disabled:!this.state.isunwrapEnable},this.props.unwrapButtonInfo))),o.a.createElement("div",{className:"balance-info"},o.a.createElement("span",{className:"balance-desc"},o.a.createElement(N.a,{id:"WETH_Balance"})),o.a.createElement("span",{className:"balance-amount"},this.state.my_weth_Balance?R(this.state.my_weth_Balance):"-","\xa0WETH")),o.a.createElement("div",{className:"input-unit-wrapper"},this.props.hasBorrowedUSDx?o.a.createElement("div",{className:"alert-message"},o.a.createElement(N.a,{id:"Already_borrowed"})):o.a.createElement("div",{className:"input-wrapper"},o.a.createElement(v.a,{type:"number",placeholder:"Amount in "+this.props.balanceType,min:0,value:this.state.supplyAmount,onChange:function(t){return e.handleSupplyChange(t.target.value)},className:"input-number",disabled:this.state.supplyInputDisabled}),o.a.createElement("span",{className:this.state.maxClassName,onClick:this.state.supplyInputDisabled?"":this.handleSupplyMax},"MAX")),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement(g.a,{size:"large",className:this.props.hasBorrowedUSDx||!this.state.isSupplyEnable?"disable-button":"",onClick:this.handleSupplyClick,disabled:!this.state.isSupplyEnable||!!this.props.hasBorrowedUSDx},this.state.isSupplyEnable?this.props.supplyButtonInfo:this.state.supplyButtonText)))):o.a.createElement(T,t)),o.a.createElement(se,{tab:"WITHDRAW"===this.props.tabRightName?"zh-CN"===navigator.language?"\u53d6\u51fa":"WITHDRAW":this.props.tabRightName,key:"2",className:"tab-content"},1==this.props.father_approve_WETH?o.a.createElement(Z,{coin:"weth",action:"withdraw",login:this.props.login,fa_maxWithdrawAmount:this.state.maxWithdrawAmount}):null,1==this.props.father_approve_WETH?o.a.createElement("div",{className:"input-unit-wrapper"},this.props.hasBorrowedUSDx?o.a.createElement("div",{className:"alert-message"},o.a.createElement(N.a,{id:"Already_borrowed"})):o.a.createElement("div",{className:"input-wrapper"},o.a.createElement(v.a,{type:"number",placeholder:"Amount in "+this.props.balanceType,min:0,value:this.state.withdrawAmount,onChange:function(t){e.handleWithdrawChange(t.target.value)},className:"input-number",disabled:this.state.withdrawInputDisabled}),o.a.createElement("span",{className:this.state.withdrawMaxClassName,onClick:this.state.withdrawInputDisabled?"":this.handleWithdrawMax},"MAX")),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement(g.a,{size:"large",className:this.props.hasBorrowedUSDx||!this.state.isWithdrawEnable?"disable-button":"",onClick:this.handleWithdrawClick,disabled:!this.state.isWithdrawEnable||!!this.props.hasBorrowedUSDx},this.state.isWithdrawEnable?this.props.withdrawButtonInfo:this.state.withdrawButtonText))):o.a.createElement(T,t)))))}}]),t}(n.Component),re=(a(343),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).get_Account_Balance=function(){if(void 0!==a.web3.eth.accounts[0]&&void 0!==V()&&void 0!==q()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().getBorrowBalance(a.web3.eth.accounts[0],e,(function(n,o){if(void 0!==o&&null!==o){o=X(o);var s="";"Main"===t?s=U.Main.WETH:"Rinkeby"===t&&(s=U.Rinkeby.WETH),V().getSupplyBalance(a.web3.eth.accounts[0],s,(function(n,i){void 0!==i&&null!==i&&V().assetPrices(e,(function(e,n){void 0!==n&&null!==n&&a.setState({usdxAssetPrice:a.web3.fromWei(n.toNumber(),"ether")},(function(){V().assetPrices(s,(function(e,n){if(void 0!==n&&null!==n&&0!==a.state.usdxAssetPrice&&0!==n.toNumber()){var s=a.web3.fromWei(i.toNumber(),"ether")*(a.web3.fromWei(n.toNumber(),"ether")/a.state.usdxAssetPrice),r=o;V().collateralRatio((function(e,n){if(void 0!==n&&null!==n){var o=s/a.web3.fromWei(n.toNumber(),"ether")-r,i="";"Main"===t?i=U.Main.MoneyMarket:"Rinkeby"===t&&(i=U.Rinkeby.MoneyMarket),q().balanceOf(i,(function(e,t){void 0!==t&&null!==t&&a.setState({cash:O(a.web3.fromWei(t.toNumber(),"ether"))},(function(){V().originationFee((function(e,t){if(void 0!==t||null!==t){var n=Math.min(o,a.state.cash);Number(n)<0&&(n=0),Number(n)===Number(a.state.cash)?n=a.state.cash:Number(n)===Number(o)&&(n/=1+Number(X(t))),a.state.usdxAvailableAmount!==n&&a.setState({usdxAvailableAmount:n})}}))}))}))}}))}}))}))}))}))}}))}},a.componentDidMount_temp=function(){setTimeout((function(){a.get_Account_Balance()}),2e3),a.timerID=setInterval((function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.get_Account_Balance()}),15e3)},a.render=function(){var e={balanceDescription:"",balanceAmount:a.state.usdxAvailableAmount,balanceType:"USDx",balanceUnit:"Available"};return o.a.createElement(K,Object.assign({},e,{login:a.web3.eth.accounts[0]}))},a.state={wethAccountBalance:0,usdxAccountBalance:0,wethAssetPrice:0,usdxAssetPrice:0,wethAssetBalance:0,usdxAssetBalance:0,collateralRatio:0,maxWithdrawWETHAmount:0,maxWithdrawUSDXAmount:0,usdxAvailableAmount:0,cash:0,originationFee:0},a.web3=window.web3,window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){a.componentDidMount_temp()}))})),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.componentDidMount_temp()})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}}]),t}(n.Component)),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).get_Borrow_Balance=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().getBorrowBalance(a.web3.eth.accounts[0],e,(function(e,t){void 0!==t&&null!==t&&a.setState({borrowedusdxBalance:a.web3.fromWei(t.toNumber(),"ether")},(function(){}))}))}},a.componentDidMount_temp=function(){setTimeout((function(){a.get_Borrow_Balance()}),2e3),a.timerID=setInterval((function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.get_Borrow_Balance()}),15e3)},a.state={suppliedwethBalance:0,suppliedusdxBalance:0,borrowedusdxBalance:0},a.web3=window.web3,window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){a.componentDidMount_temp()}))})),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.componentDidMount_temp()})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var e={coin:this.props.coin,action:this.props.action,coinBalance:this.state.borrowedusdxBalance,login:this.web3.eth.accounts[0]};return o.a.createElement(te,e)}}]),t}(n.Component);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce=x.a.TabPane,de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).getCollateralRatio=function(){void 0!==V()&&V().collateralRatio((function(e,t){void 0!==t&&null!==t&&a.state.collateralRatio!==a.web3.fromWei(t.toNumber(),"ether")&&a.setState({collateralRatio:a.web3.fromWei(t.toNumber(),"ether")})}))},a.getMaxBorrowAmount=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()&&V().calculateAccountValues(a.web3.eth.accounts[0],(function(e,t){if(void 0!==t&&null!==t){var n=a.web3.fromWei(a.web3.fromWei(t[1].toNumber(),"ether"),"ether"),o=a.web3.fromWei(a.web3.fromWei(t[2].toNumber(),"ether"),"ether"),s="",i=L(a.state.NetworkName);"Main"===i?s=U.Main.WETH:"Rinkeby"===i&&(s=U.Rinkeby.WETH),V().assetPrices(s,(function(e,t){if(void 0!==t&&null!==t){var s="",i=L(a.state.NetworkName);"Main"===i?s=U.Main.USDx:"Rinkeby"===i&&(s=U.Rinkeby.USDx),V().assetPrices(s,(function(e,s){n=n*(a.web3.fromWei(t.toNumber(),"ether")/a.web3.fromWei(s.toNumber(),"ether"))/1,o=o*(a.web3.fromWei(t.toNumber(),"ether")/a.web3.fromWei(s.toNumber(),"ether"))/1,V().collateralRatio((function(e,t){var s="",i=L(a.state.NetworkName);"Main"===i?s=U.Main.MoneyMarket:"Rinkeby"===i&&(s=U.Rinkeby.MoneyMarket),q().balanceOf(s,(function(e,s){void 0!==s&&null!==s&&V().originationFee((function(e,i){if(void 0!==i||null!==i){var r=Math.min(n/a.web3.fromWei(t.toNumber(),"ether")*.8-o,O(a.web3.fromWei(s.toNumber(),"ether")));Number(r)<0&&(r=0),Number(r)!==Number(O(a.web3.fromWei(s.toNumber(),"ether")))&&(r/=1+Number(X(i))),a.state.maxBorrowAmount!==k(r)&&a.setState({maxBorrowAmount:k(r)},(function(){}))}}))}))}))}))}}))}}))},a.getBorrowMarketInfo=function(e){if(void 0!==V()){var t="",n=L(a.state.NetworkName);"Main"===n?t=U.Main.USDx:"Rinkeby"===n&&(t=U.Rinkeby.USDx),V().markets.call(t,(function(t,n){if(void 0!==n&&null!==n){var o=[n[6],n[7],n[8]].map((function(e){return a.web3.fromWei(e.toNumber(),"ether")}));a.setState(Object(h.a)({},"".concat(e,"BorrowMarketInfo"),o))}}))}},a.getUSDxAllowance=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==q()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.MoneyMarket:"Rinkeby"===t&&(e=U.Rinkeby.MoneyMarket),q().allowance(a.web3.eth.accounts[0],e,(function(e,t){void 0!==t&&null!==t&&(t.toNumber()>0?a.setState({usdxAllowance:t.toNumber(),isApproved:!0,USDx_isApproved:1},(function(){console.log(a.state.isApproved)})):a.setState({isApproved:!1,USDx_isApproved:1}))}))}},a.getMyAddressUSDxBalance=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==q()&&q().balanceOf(a.web3.eth.accounts[0],(function(e,t){var n=0;void 0!==t&&null!==t&&(n=t.toNumber()),a.state.myAddressUSDxBalance!==Number(a.web3.fromWei(n,"ether"))&&a.setState({myAddressUSDxBalance:Number(a.web3.fromWei(n,"ether")),repayBorrowMax:!1,isRepayBorrowEnable:!0,repayBorrowAmount:"",repayButtonText:a.props.repayButtonInfo},(function(){}))}))},a.handleApprove=function(){a.setState({approveButtonInfo:"ENABLEING USDx...",pendingApproval:!0});var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.MoneyMarket:"Rinkeby"===t&&(e=U.Rinkeby.MoneyMarket),q().approve.estimateGas(e,-1,{from:a.web3.eth.accounts[0]},(function(t,n){a.web3.eth.getGasPrice((function(t,o){console.log("gasLimit:"+n),console.log("gasPrice:"+o),q().approve(e,-1,{from:a.web3.eth.accounts[0],gas:n,gasPrice:o},(function(e,t){if(void 0!==t&&null!==t){var n=t,o=J(a.state.NetworkName)+t;a.setState({getHash:!0,hashNumber:t,pendingUSDxApproval:!0}),P("loading-borrow-approve",a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName,"Enable",null,"USDx",o,n,0,null,!1,null)}else a.setState({pendingApproval:!1,approveButtonInfo:a.props.approveButtonInfo})}))}))}))},a.handleBorrowClick=function(){var e=a.state.borrowAmount;if(""!==e&&null!==e){a.setState({isBorrowEnable:!1,borrowButtonText:"SUBMITTING\u2026",borrowInputDisabled:!0,borrowMaxClassName:"max-amount-button-borrow-disable"});var t="",n=L(a.state.NetworkName);"Main"===n?t=U.Main.USDx:"Rinkeby"===n&&(t=U.Rinkeby.USDx),V().borrow.estimateGas(t,a.web3.toWei(e,"ether"),{from:a.web3.eth.accounts[0]},(function(n,o){console.log("gasLimit:"+o),a.web3.eth.getGasPrice((function(n,s){console.log("gasPrice:"+s),void 0!==s||null!==s?V().borrow(t,a.web3.toWei(e,"ether"),{from:a.web3.eth.accounts[0],gas:o,gasPrice:s},(function(t,n){if(void 0!==n&&null!==n){var o=n,s=J(a.state.NetworkName)+n,i=R(a.state.borrowAmount);a.setState({borrowtxhash:n}),P("loading-borrow",a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName,"Borrow",i,"USDx",s,o,0,a.web3.toWei(e,"ether"),!1,null)}else a.setState({isBorrowEnable:!0,borrowInputDisabled:!1})})):console.err("gasPrice is "+s)}))}))}},a.handleBorrowChange=function(e){if(null===e||""===e)return a.setState({isBorrowEnable:!0}),a.setState({borrowButtonText:a.props.borrowButtonInfo}),a.setState({borrowAmount:""}),a.setState({borrowMax:!1}),void a.setState({exceedsSafeMax:!1});if(e.toString().length>18){return a.setState({borrowAmount:e}),a.setState({isBorrowEnable:!1}),a.setState({borrowButtonText:"INSUFFICIENT LIQUIDITY"}),void a.setState({exceedsSafeMax:!1})}if(e>a.state.maxBorrowAmount&&e<=a.state.usdxAvailableAmount)a.setState({isBorrowEnable:!0}),a.setState({exceedsSafeMax:!0});else{if(e>a.state.usdxAvailableAmount){return a.setState({borrowAmount:e}),a.setState({isBorrowEnable:!1}),a.setState({borrowButtonText:"INSUFFICIENT LIQUIDITY"}),void a.setState({exceedsSafeMax:!1})}a.setState({exceedsSafeMax:!1})}e.toString().indexOf(".")===e.toString().length-1&&(e+="00"),a.setState({borrowAmount:e}),a.setState({borrowMax:!1}),!_(e)&&""!==e||0===e?(a.setState({isBorrowEnable:!1}),a.setState({borrowButtonText:a.props.borrowButtonInfo})):a.setState({isBorrowEnable:!0})},a.handleBorrowMax=function(){a.setState({borrowAmount:a.state.maxBorrowAmount}),a.setState({borrowMax:!0}),a.setState({exceedsSafeMax:!1}),0===Number(a.state.maxBorrowAmount)?(a.setState({isBorrowEnable:!1}),a.setState({borrowButtonText:a.props.borrowButtonInfo})):a.setState({isBorrowEnable:!0})},a.handleRepayClick=function(){var e=a.state.repayBorrowAmount;if(""!==e&&null!==e){a.setState({isRepayEnable:!1}),a.state.repayBorrowMax&&(e=-1),a.setState({isRepayBorrowEnable:!1,repayButtonText:"SUBMITTING\u2026",repayBorrowInputDisabled:!0,repayBorrowMaxClassName:"max-amount-button-borrow-disable"});var t="",n=L(a.state.NetworkName);"Main"===n?t=U.Main.USDx:"Rinkeby"===n&&(t=U.Rinkeby.USDx),V().repayBorrow.estimateGas(t,-1===e?-1:a.web3.toWei(e,"ether"),{from:a.web3.eth.accounts[0]},(function(n,o){console.log("gasLimit:"+o),a.web3.eth.getGasPrice((function(n,s){console.log("gasPrice:"+s),void 0!==s||null!==s?V().repayBorrow(t,-1===e?-1:a.web3.toWei(e,"ether"),{from:a.web3.eth.accounts[0],gas:o,gasPrice:s},(function(t,n){if(void 0!==n&&null!==n){var o=n,s=J(a.state.NetworkName)+n,i=R(a.state.repayBorrowAmount);P("loading-borrow-repay",a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName,"Repay",i,"USDx",s,o,0,-1===e?-1:a.web3.toWei(e,"ether"),!1,null)}else a.setState({isRepayBorrowEnable:!0,repayBorrowInputDisabled:!1})})):console.err("gasPrice is "+s)}))}))}},a.handleRepayChange=function(e){if(null===e||""===e)return a.setState({isRepayBorrowEnable:!0}),a.setState({repayButtonText:a.props.repayButtonInfo}),a.setState({repayBorrowAmount:""}),void a.setState({repayBorrowMax:!1});if(e.toString().length>18||e>a.state.maxRepayBorrowAmount&&!isNaN(e))return a.setState({repayBorrowAmount:e}),a.setState({isRepayBorrowEnable:!1}),void a.setState({repayButtonText:a.props.repayButtonInfo});if(e>a.state.myAddressUSDxBalance){return a.setState({repayBorrowAmount:e}),a.setState({isRepayBorrowEnable:!1}),void a.setState({repayButtonText:"INSUFFICIENT BALANCE"})}e.toString().indexOf(".")===e.toString().length-1&&(e+="00"),a.setState({repayBorrowAmount:e}),a.setState({repayBorrowMax:!1}),!_(e)&&""!==e||0===e?(a.setState({isRepayBorrowEnable:!1}),a.setState({repayButtonText:a.props.repayButtonInfo})):a.setState({isRepayBorrowEnable:!0})},a.handleRepayMax=function(){a.setState({repayBorrowAmount:a.state.maxRepayBorrowAmount,repayBorrowMax:!0}),0===Number(a.state.maxRepayBorrowAmount)?(a.setState({isRepayBorrowEnable:!1}),a.setState({repayButtonText:a.props.repayButtonInfo})):a.state.maxRepayBorrowAmount>a.state.myAddressUSDxBalance?(a.setState({isRepayBorrowEnable:!1}),a.setState({repayButtonText:"INSUFFICIENT BALANCE"})):a.setState({isRepayBorrowEnable:!0})},a.getBorrowBalance=function(){if(void 0!==window.web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().getBorrowBalance(a.web3.eth.accounts[0],e,(function(e,t){var n=0;void 0!==t&&null!==t&&(n=t.toNumber()),a.state.borrowedUSDxBalance!==a.web3.fromWei(n,"ether")&&a.setState({borrowedUSDxBalance:a.web3.fromWei(n,"ether")}),a.state.maxRepayBorrowAmount!==a.web3.fromWei(n,"ether")&&a.setState({maxRepayBorrowAmount:a.web3.fromWei(n,"ether")})}))}},a.getUSDxBalance=function(){if(void 0!==q()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.MoneyMarket:"Rinkeby"===t&&(e=U.Rinkeby.MoneyMarket),q().balanceOf(e,(function(e,t){var n=0;void 0!==t&&null!==t&&(n=t.toNumber()),a.state.usdxBalance!==O(a.web3.fromWei(n,"ether"))&&a.setState({usdxBalance:O(a.web3.fromWei(n,"ether"))},(function(){}))}))}},a.getAccountUSDXBalanceByAddress=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==q()&&q().balanceOf(a.web3.eth.accounts[0],(function(e,t){var n=0;void 0!==t&&null!==t&&(n=a.web3.fromWei(t.toNumber(),"ether")),a.state.USDXPersonalBalance!==n&&a.setState({USDXPersonalBalance:n})}))},a.getOriginationFee=function(){void 0!==V()&&V().originationFee((function(e,t){var n;void 0!==t&&null!==t&&(n=X(t),a.state.originationFee!==n&&a.setState({originationFee:n}))}))},a.getAccountBalance=function(){if(void 0!==window.web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().getBorrowBalance(a.web3.eth.accounts[0],e,(function(e,t){if(void 0!==t&&null!==t){var n=t=X(t),o=a.state.supplyWETHAmount*a.state.WETHAssetPrice/a.state.collateralRatio-n,s=Math.min(o,a.state.cash);Number(s)<0&&(s=0),Number(s)===Number(a.state.cash)?s=a.state.cash:Number(s)===Number(o)&&(s/=1+Number(a.state.originationFee)),a.state.usdxAvailableAmount!==s&&a.setState({usdxAvailableAmount:s},(function(){}))}}))}},a.getCurrentSupplyWETHAmount=function(){if(void 0!==window.web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.WETH:"Rinkeby"===t&&(e=U.Rinkeby.WETH),V().getSupplyBalance(a.web3.eth.accounts[0],e,(function(e,t){void 0!==t&&null!==t&&a.state.supplyWETHAmount!==a.web3.fromWei(t.toNumber(),"ether")&&a.setState({supplyWETHAmount:a.web3.fromWei(t.toNumber(),"ether")})}))}},a.getWETHAssetPrice=function(){if(void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.WETH:"Rinkeby"===t&&(e=U.Rinkeby.WETH),V().assetPrices(e,(function(e,t){void 0!==t&&null!==t&&0!==a.state.usdxAssetPrice&&0!==t.toNumber()&&a.state.WETHAssetPrice!==a.web3.fromWei(t.toNumber(),"ether")/a.state.usdxAssetPrice&&a.setState({WETHAssetPrice:a.web3.fromWei(t.toNumber(),"ether")/a.state.usdxAssetPrice})}))}},a.getUSDxAssetPrice=function(){if(void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().assetPrices(e,(function(e,t){void 0!==t&&null!==t&&a.state.usdxAssetPrice!==a.web3.fromWei(t.toNumber(),"ether")&&a.setState({usdxAssetPrice:a.web3.fromWei(t.toNumber(),"ether")})}))}},a.getCash=function(){if(void 0!==q()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.MoneyMarket:"Rinkeby"===t&&(e=U.Rinkeby.MoneyMarket),q().balanceOf(e,(function(e,t){var n=0;void 0!==t&&null!==t&&(n=t.toNumber()),a.state.cash!==O(a.web3.fromWei(n,"ether"))&&a.setState({cash:O(a.web3.fromWei(n,"ether"))})}))}},a.refreshData=function(){a.getCollateralRatio(),a.getWETHAssetPrice(),a.getCurrentSupplyWETHAmount(),a.getUSDxAssetPrice(),a.getCash(),a.getUSDxAllowance(),a.getBorrowBalance(),a.getMyAddressUSDxBalance(),a.getBorrowMarketInfo("USDx"),a.getBorrowMarketInfo("WETH"),a.getAccountBalance(),a.getUSDxBalance(),a.getMaxBorrowAmount(),a.getAccountUSDXBalanceByAddress()},a.refreshDataEventMonitor=function(){void 0!==V()&&V().allEvents({toBlock:"latest"}).watch((function(e,t){if(e)console.log("watch error --\x3e "+JSON.stringify(e));else{var n=JSON.parse(JSON.stringify(t)).event;"BorrowTaken"!==n&&"BorrowRepaid"!==n&&"SupplyReceived"!==n&&"SupplyWithdrawn"!==n||(a.getCurrentSupplyWETHAmount(),a.getWETHAssetPrice(),a.getUSDxAssetPrice(),a.getCash(),a.getAccountBalance(),a.getMaxBorrowAmount(),a.getBorrowBalance(),a.setState({borrowAmount:null,borrowMax:!1,exceedsSafeMax:!1,isBorrowEnable:!0,repayBorrowAmount:null,isRepayEnable:!0,repayBorrowMax:!1,isRepayBorrowEnable:!0}))}}))},a.mmEventMonitor=function(){if(void 0!==V()){var e=Object(S.a)(a);V().BorrowTaken().watch((function(t,a){if(console.log("watch -> borrowTakenEvent:"+JSON.stringify(a)),t)console.log("watch mmEventMonitor borrowTakenEvent error --\x3e "+JSON.stringify(t));else{var n=null,o=null,s=null;if(window.localStorage){if("undefined"===typeof web3)return;n=window.localStorage,s=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName),o=JSON.parse("".concat(n.getItem(s)))}if(null!==o){var i=JSON.parse(JSON.stringify(a)),r=i.transactionHash;e.setState({borrowAmount:null,isBorrowEnable:!0,borrowMax:!1,exceedsSafeMax:!1,borrowInputDisabled:!1,borrowMaxClassName:"max-amount-button-borrow"}),n.removeItem(s);var u=JSON.parse(JSON.stringify(i.args));o=o.map((function(t){if(0===t.status&&"Borrow"===t.transactionType&&t.realAmount===u.amount&&t.txId!==r){var a=J(e.state.NetworkName)+r;return pe({},t,{icon:"borrow",status:1,txId:r,txnHashHref:a})}return t.txId===r?pe({},t,{icon:"borrow",status:1}):pe({},t)})),n.setItem(s,JSON.stringify(o))}}})),V().BorrowRepaid().watch((function(t,n){if(console.log("watch -> borrowRepaidEvent:"+JSON.stringify(n)),t)console.log("watch mmEventMonitor borrowRepaidEvent error --\x3e "+JSON.stringify(t));else{var o=null,s=null,i=null;if(window.localStorage){if("undefined"===typeof web3)return;o=window.localStorage,i=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName),s=JSON.parse("".concat(o.getItem(i)))}if(null!==s){var r=JSON.parse(JSON.stringify(n)),u=r.transactionHash;a.setState({isRepayBorrowEnable:!0,repayBorrowAmount:null,isBorrowEnable:!0,borrowAmount:null,repayBorrowInputDisabled:!1,repayBorrowMaxClassName:"max-amount-button-borrow"}),a.setState({isRepayEnable:!0,repayBorrowMax:!1}),o.removeItem(i);var l=JSON.parse(JSON.stringify(r.args));s=s.map((function(t){if(0===t.status&&"Repay"===t.transactionType&&t.realAmount===l.amount&&t.txId!==u){var a=J(e.state.NetworkName)+u;return pe({},t,{icon:"borrow",status:1,txId:u,txnHashHref:a})}return t.txId===u?pe({},t,{icon:"repay",status:1}):pe({},t)})),o.setItem(i,JSON.stringify(s))}}})),V().Failure().watch((function(t,a){if(console.log("watch -> failureEvent:"+JSON.stringify(a)),t)console.log("watch mmEventMonitor failureEvent error --\x3e "+JSON.stringify(t));else{var n=null,o=null,s=null;if(window.localStorage){if("undefined"===typeof web3)return;n=window.localStorage,s=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName),o=JSON.parse("".concat(n.getItem(s)))}if(null!==o){var i=JSON.parse(JSON.stringify(a)),r=i.transactionHash;e.setState({isBorrowEnable:!0,borrowAmount:null,borrowMax:!1,borrowInputDisabled:!1,borrowMaxClassName:"max-amount-button-borrow"}),e.setState({isRepayEnable:!0,repayBorrowAmount:null,repayBorrowMax:!1,repayBorrowInputDisabled:!1,repayBorrowMaxClassName:"max-amount-button-borrow"}),n.removeItem(s),o=o.map((function(e){if(e.txId===r){var t=i.args,a=JSON.parse(JSON.stringify(t));return console.log("borrow failure info:"+ae[a.error]),pe({},e,{icon:"failure",status:1,failed:!0,failedInfo:ae[a.error]})}return pe({},e)})),n.setItem(s,JSON.stringify(o))}}}))}},a.usdxEventMonitor=function(){if(void 0!==q()){var e=Object(S.a)(a);q().Approval().watch((function(t,a){if(console.log("watch borrow-> approvalUSDXEvent:"+JSON.stringify(a)),t)console.log("watch borrow usdxEventMonitor approvalUSDXEvent error --\x3e "+JSON.stringify(t));else{var n=null,o=null,s=null;if(window.localStorage){if("undefined"===typeof web3)return;n=window.localStorage,s=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName),o=JSON.parse("".concat(n.getItem(s)))}if(null!==o){var i=JSON.parse(JSON.stringify(a)).transactionHash;e.getUSDxAllowance(),e.setState({pendingApproval:!1,isApproved:!0}),n.removeItem(s),o=o.map((function(t){if(0===t.status&&"Enable"===t.transactionType&&t.txId!==i){var a=J(e.state.NetworkName)+i;return pe({},t,{icon:"done",status:1,txId:i,txnHashHref:a})}return t.txId===i?pe({},t,{icon:"done",status:1}):pe({},t)})),n.setItem(s,JSON.stringify(o))}}}))}},a.checkWaitingUpdateTransactionRecords=function(){var e=null,t=null,n=null;if(window.localStorage){if("undefined"===typeof web3)return;e=window.localStorage,n=C(a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName),t=JSON.parse("".concat(e.getItem(n)))}null!==t&&(e.removeItem(n),t=t.map((function(e){if("loading-borrow"===e.icon){if(void 0!==a.state.borrowUSDxWaitUpdateForSuccessMap.get(e.txId))return a.setState({isBorrowEnable:!0,borrowInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&a.setState({borrowAmount:null,isBorrowEnable:!0,borrowMax:!1,exceedsSafeMax:!1,borrowInputDisabled:!1,borrowMaxClassName:"max-amount-button-borrow"}),pe({},e,{icon:"borrow",status:1});if(void 0!==a.state.borrowUSDxWaitUpdateForFailedMap.get(e.txId))return a.setState({isBorrowEnable:!0,borrowInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&a.setState({borrowAmount:null,isBorrowEnable:!0,borrowMax:!1,exceedsSafeMax:!1,borrowInputDisabled:!1,borrowMaxClassName:"max-amount-button-borrow"}),pe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"BORROW USDx FAILURE"});if(void 0!==a.state.borrowUSDxWaitUpdateTimeOutMap.get(e.txId))return pe({},e,{timeOutFlag:1})}if("loading-borrow-repay"===e.icon){if(void 0!==a.state.repayUSDxWaitUpdateForSuccessMap.get(e.txId))return a.setState({isRepayBorrowEnable:!0,repayBorrowInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.setState({isRepayBorrowEnable:!0,repayBorrowAmount:null,isBorrowEnable:!0,borrowAmount:null,repayBorrowInputDisabled:!1,repayBorrowMaxClassName:"max-amount-button-borrow"}),a.setState({isRepayEnable:!0,repayBorrowMax:!1})),pe({},e,{icon:"borrow",status:1});if(void 0!==a.state.repayUSDxWaitUpdateForFailedMap.get(e.txId))return a.setState({isRepayBorrowEnable:!0,repayBorrowInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.setState({isRepayBorrowEnable:!0,repayBorrowAmount:null,isBorrowEnable:!0,borrowAmount:null,repayBorrowInputDisabled:!1,repayBorrowMaxClassName:"max-amount-button-borrow"}),a.setState({isRepayEnable:!0,repayBorrowMax:!1})),pe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"REPAY USDx FAILURE"});if(void 0!==a.state.repayUSDxWaitUpdateTimeOutMap.get(e.txId))return pe({},e,{timeOutFlag:1})}if("loading-borrow-approve"===e.icon){if(void 0!==a.state.enableUSDxWaitUpdateForSuccessMap.get(e.txId))return a.setState({pendingApproval:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.getUSDxAllowance(),a.setState({pendingApproval:!1,isApproved:!0})),pe({},e,{icon:"done",status:1});if(void 0!==a.state.enableUSDxWaitUpdateForFailedMap.get(e.txId))return a.setState({pendingApproval:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.getUSDxAllowance(),a.setState({pendingApproval:!1,isApproved:!0})),pe({},e,{icon:"failure",status:1,failed:!0,failedInfo:"ENABLE USDx FAILURE"});if(void 0!==a.state.enableUSDxWaitUpdateTimeOutMap.get(e.txId))return pe({},e,{timeOutFlag:1})}return pe({},e)})),e.setItem(n,JSON.stringify(t)))},a.checkTransactionsStatus=function(){var e=null,t=null,n=null;if(window.localStorage){if("undefined"===typeof web3)return;e=window.localStorage,n=C(a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName),t=JSON.parse("".concat(e.getItem(n)))}null!==t&&t.map((function(e){if("loading-borrow"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var t=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(t=1,a.setState({isBorrowEnable:!0,borrowAmount:"",borrowMax:!1,exceedsSafeMax:!1,buttonText:a.props.borrowButtonInfo,borrowInputDisabled:!1,borrowMaxClassName:"max-amount-button-borrow"})):a.setState({isBorrowEnable:!1,borrowButtonText:"SUBMITTING\u2026",borrowInputDisabled:!0,borrowMaxClassName:"max-amount-button-borrow-disable"});var n=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(n=1),t&&"0x0"===t.status&&(n=0)})),setTimeout((function(){1===n&&void 0===a.state.borrowUSDxWaitUpdateForSuccessMap.get(e.txId)&&a.state.borrowUSDxWaitUpdateForSuccessMap.set(e.txId,e),0===n&&void 0===a.state.borrowUSDxWaitUpdateForFailedMap.get(e.txId)&&a.state.borrowUSDxWaitUpdateForFailedMap.set(e.txId,e),1===t&&void 0===a.state.borrowUSDxWaitUpdateTimeOutMap.get(e.txId)&&a.state.borrowUSDxWaitUpdateTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isBorrowEnable:!0,borrowInputDisabled:!1})}if("loading-borrow-repay"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var o=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(o=1,a.setState({repayBorrowMax:!1,isRepayBorrowEnable:!0,repayBorrowAmount:"",buttonText:a.props.repayButtonInfo,repayBorrowInputDisabled:!1,repayBorrowMaxClassName:"max-amount-button-borrow"})):a.setState({isRepayBorrowEnable:!1,repayButtonText:"SUBMITTING\u2026",repayBorrowInputDisabled:!0,repayBorrowMaxClassName:"max-amount-button-borrow-disable"});var s=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(s=1),t&&"0x0"===t.status&&(s=0)})),setTimeout((function(){1===s&&void 0===a.state.repayUSDxWaitUpdateForSuccessMap.get(e.txId)&&a.state.repayUSDxWaitUpdateForSuccessMap.set(e.txId,e),0===s&&void 0===a.state.repayUSDxWaitUpdateForFailedMap.get(e.txId)&&a.state.repayUSDxWaitUpdateForFailedMap.set(e.txId,e),1===o&&void 0===a.state.repayUSDxWaitUpdateTimeOutMap.get(e.txId)&&a.state.repayUSDxWaitUpdateTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isRepayBorrowEnable:!0,repayBorrowInputDisabled:!1})}if("loading-borrow-approve"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var i=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(i=1,a.setState({approveButtonInfo:a.props.approveButtonInfo,pendingApproval:!1})):a.setState({approveButtonInfo:"ENABLEING USDx...",pendingApproval:!0});var r=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(r=1),t&&"0x0"===t.status&&(r=0)})),setTimeout((function(){1===r&&void 0===a.state.enableUSDxWaitUpdateForSuccessMap.get(e.txId)&&a.state.enableUSDxWaitUpdateForSuccessMap.set(e.txId,e),0===r&&void 0===a.state.enableUSDxWaitUpdateForFailedMap.get(e.txId)&&a.state.enableUSDxWaitUpdateForFailedMap.set(e.txId,e),1===i&&void 0===a.state.enableUSDxWaitUpdateTimeOutMap.get(e.txId)&&a.state.enableUSDxWaitUpdateTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({pendingApproval:!1})}return e.id}))},a.componentDidMount_temp=function(){void 0!==window.web3&&void 0===window.ethereum.isImToken&&(a.refreshDataEventMonitor(),a.usdxEventMonitor(),a.mmEventMonitor()),a.checkTransactionsStatusTimer=setInterval((function(){a.checkTransactionsStatus()}),1e3),a.checkWaitingUpdateTimer=setInterval((function(){a.checkWaitingUpdateTransactionRecords()}),15e3),a.getOriginationFee(),a.refreshMaxData=setInterval((function(){a.getCollateralRatio(),a.getWETHAssetPrice(),a.getUSDxAssetPrice(),a.getCurrentSupplyWETHAmount(),a.getCash(),a.getBorrowBalance(),a.getMyAddressUSDxBalance(),a.getAccountBalance(),a.getUSDxBalance(),a.getMaxBorrowAmount(),a.getAccountUSDXBalanceByAddress(),a.getOriginationFee()}),5e3),a.refreshData()},a.get_Borrow_Balance=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().getBorrowBalance(a.web3.eth.accounts[0],e,(function(e,t){t&&a.setState({my_borrowed_usdx:a.web3.fromWei(t.toNumber(),"ether")})}))}},a.state={currentUser:"",supplyType:e.supplyType,networkName:e.networkName,web3NoExist:e.web3NoExist,myAddress:e.myAddress,getHash:!1,hashNumber:"",borrowtxhash:"",repayBorrowAmount:"",USDxBorrowMarketInfo:[],WETHBorrowMarketInfo:[],USDxApproval:e.USDxApproval,pendingUSDxApproval:e.pendingUSDxApproval,pendingApproval:!1,approveButtonInfo:a.props.approveButtonInfo,borrowMax:!1,isApproved:!1,isBorrowEnable:!0,isRepayEnable:!0,myAddressUSDxBalance:0,maxRepayBorrowAmount:0,maxRepayBorrowAmountShow:0,usdxAllowance:e.usdxAllowance,repayBorrowMax:!1,accountBalance:0,balanceAmountShow:"",borrowedUSDxBalance:0,maxBorrowAmount:0,borrowAmount:"",isRepayBorrowEnable:!0,borrowButtonText:"",repayButtonText:"",collateralRatio:0,usdxBalance:0,usdxAvailableAmount:0,exceedsSafeMax:!1,supplyWETHAmount:0,WETHAssetPrice:0,usdxAssetPrice:0,cash:0,borrowInputDisabled:!1,repayBorrowInputDisabled:!1,borrowMaxClassName:"max-amount-button-borrow",repayBorrowMaxClassName:"max-amount-button-borrow",borrowUSDxWaitUpdateForSuccessMap:new Map,borrowUSDxWaitUpdateForFailedMap:new Map,borrowUSDxWaitUpdateTimeOutMap:new Map,repayUSDxWaitUpdateForSuccessMap:new Map,repayUSDxWaitUpdateForFailedMap:new Map,repayUSDxWaitUpdateTimeOutMap:new Map,enableUSDxWaitUpdateForSuccessMap:new Map,enableUSDxWaitUpdateForFailedMap:new Map,enableUSDxWaitUpdateTimeOutMap:new Map,originationFee:0,timeOutTimes:5,USDx_isApproved:0},a.web3=window.web3,void 0===window.ethereum?Object(m.a)(a):(window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(e){setTimeout(a.refreshData(),500),a.getUSDxAllowance(),a.getMaxBorrowAmount(),a.getBorrowBalance(),a.setState({borrowAmount:"",repayBorrowAmount:"",isBorrowEnable:!0,isRepayBorrowEnable:!0,exceedsSafeMax:!1})})),window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){setTimeout((function(){a.componentDidMount_temp()}),2e3)}))})),a)}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.availableTimer),clearInterval(this.getAddressIntervalBorrow),clearInterval(this.accountInterval),clearInterval(this.refreshMaxData),clearInterval(this.checkTransactionsStatusTimer),clearInterval(this.checkWaitingUpdateTimer)}},{key:"render",value:function(){var e={enableMessage:"Before Borrowing ".concat(this.props.balanceType," for the first time, you must enable ").concat(this.props.balanceType,"."),isEnable:!this.state.pendingApproval,buttonInfo:this.state.approveButtonInfo,handleClick:this.handleApprove,page:this.props.page},t={balanceDescription:"",balanceAmount:this.state.usdxAvailableAmount,balanceType:this.props.balanceType,balanceUnit:"Available",minAmount:0,maxAmount:this.state.maxBorrowAmount,step:.01,amount:this.state.borrowAmount,isEnable:this.state.isBorrowEnable,inputDisabled:this.state.borrowInputDisabled,buttonInfo:this.state.isBorrowEnable?this.props.borrowButtonInfo:this.state.borrowButtonText,handleChange:this.handleBorrowChange,handleClick:this.handleBorrowClick,handleMax:this.handleBorrowMax,hasLendUSDx:this.props.hasLendUSDx,placeholderHint:"Amount in "+this.props.balanceType,buttonClassName:"button-wrapper-borrow",safeMax:"SAFE ",exceedsSafeMax:this.state.exceedsSafeMax,maxClassName:this.state.borrowMaxClassName},a={balanceDescription:"",balanceAmount:this.state.USDXPersonalBalance,balanceType:this.props.balanceType,balanceUnit:"Balance",minAmount:0,maxAmount:this.state.maxRepayBorrowAmount,step:.01,amount:this.state.repayBorrowAmount,isEnable:this.state.isRepayBorrowEnable,inputDisabled:this.state.repayBorrowInputDisabled,buttonInfo:this.state.isRepayBorrowEnable?this.props.repayButtonInfo:this.state.repayButtonText,handleChange:this.handleRepayChange,handleClick:this.handleRepayClick,handleMax:this.handleRepayMax,hasLendUSDx:this.props.hasLendUSDx,placeholderHint:"Amount in "+this.props.balanceType,buttonClassName:"button-wrapper-borrow",maxClassName:this.state.repayBorrowMaxClassName};return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"borrow-input"},o.a.createElement(ue,{coin:"USDx",action:"Borrowed",login:this.props.login}),o.a.createElement(x.a,{className:"tab-wrapper",animated:!0,size:"large",onChange:this.changePane},o.a.createElement(ce,{tab:"zh-CN"===navigator.language?"\u501f\u6b3e":"BORROW",key:"1",className:"tab-content"},1==this.props.father_approve_USDx?o.a.createElement("span",null,o.a.createElement(re,{coin:"usdx",action:"repay",login:this.web3.eth.accounts[0]}),o.a.createElement(D,t)):o.a.createElement(T,e)),o.a.createElement(ce,{tab:"zh-CN"===navigator.language?"\u507f\u8fd8":"REPAY",key:"2",className:"tab-content"},this.state.isApproved&&o.a.createElement(ee,{coin:"usdx",login:this.props.login}),this.state.isApproved?o.a.createElement(D,a):o.a.createElement(T,e)))))}}]),t}(n.Component);a(344);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).checkLogIn=function(e){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]){var t=null,n=null,o=j(a.web3.eth.accounts[0]);window.localStorage&&(t=window.localStorage,n=JSON.parse("".concat(t.getItem(o)))),null!==n?(t.removeItem(o),n=n.map((function(t){return t.account===a.web3.eth.accounts[0]?we({},t,{isLogin:e}):we({},t)})),t.setItem(o,JSON.stringify(n))):G(a.web3.eth.accounts[0],e)}},a.connectMetamask=function(){"undefined"!==typeof web3&&(window.web3.currentProvider.enable().then((function(e){a.setState({isLogIn:!0})})),a.checkLogIn(!0))},a.unConnectMetamask=function(){a.setState({isLogIn:!1}),a.checkLogIn(!1)},a.componentDidMount_temp=function(){setTimeout((function(){a.connectMetamask()}),2e3),a.timerID=setInterval((function(){var e=null,t=null;if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]){var n=j(a.web3.eth.accounts[0]);window.localStorage&&(e=window.localStorage,t=JSON.parse("".concat(e.getItem(n)))),null!==t&&(t=t.map((function(e){return e.account===a.web3.eth.accounts[0]&&a.state.isLogIn!==e.isLogin&&a.setState({isLogIn:e.isLogin}),e.id})))}}),15e3)},a.allocateUSDx=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&q().allocateTo(a.web3.eth.accounts[0],a.web3.toWei(100,"ether"),(function(e,t){}))},a.allocateWETH=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&Y().allocateTo(a.web3.eth.accounts[0],a.web3.toWei(100,"ether"),(function(e,t){}))},a.render=function(){var e=void 0!==window.web3?L(a.state.NetworkName):null;return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"header "+("Main"===e?"without-banner":"with-banner")},o.a.createElement("div",{className:"header-content"},o.a.createElement("div",{className:"left"},o.a.createElement("img",{className:"header-logo",style:{margin:"auto"},src:"images/h_logo@2x.svg",alt:"HEADER"}),o.a.createElement("div",{className:"market-info"},o.a.createElement("span",{className:"market-info-title"},"USDx",o.a.createElement(N.a,{id:"Balance"}),void 0!==window.web3&&"Rinkeby"===L(a.state.NetworkName)?o.a.createElement("a",{className:"usdx-faucet",onClick:a.allocateUSDx},"Faucet"):""),o.a.createElement("span",{className:"market-info-digits"},a.props.USDxBalance)),o.a.createElement("div",{className:"market-info"},o.a.createElement("span",{className:"market-info-title"},"ETH",o.a.createElement(N.a,{id:"Balance"})),o.a.createElement("span",{className:"market-info-digits"},a.props.ETHBalance)),o.a.createElement("div",{className:"market-info"},o.a.createElement("span",{className:"market-info-title"},"WETH",o.a.createElement(N.a,{id:"Balance"})),o.a.createElement("span",{className:"market-info-digits"},a.props.WETHBalance)),o.a.createElement("div",{className:"market-info"},o.a.createElement("span",{className:"market-info-title"},"ETH/USD"),o.a.createElement("span",{className:"market-info-digits"},a.props.ETHToUSD))),o.a.createElement("div",{className:"right"},o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("div",{className:void 0!==a.props.account&&a.state.isLogIn?"signed-in":"connect-sign"}),o.a.createElement("span",{style:{fontWeight:500,paddingLeft:"8px",color:"#FFF"}},void 0!==a.props.account&&a.state.isLogIn?"".concat(a.props.networkName):"Unconnected")),o.a.createElement("div",{className:"login",style:{fontWeight:500,color:"#FFF"}},void 0!==a.props.account&&a.state.isLogIn?a.props.account.substring(0,8)+"..."+a.props.account.substring(a.props.account.length-6):"Connect to Metamask",o.a.createElement("div",{className:"popup"},o.a.createElement("span",null,o.a.createElement("em",null)),o.a.createElement("p",{style:{display:void 0!==a.props.account&&a.state.isLogIn?"none":"block",fontWeight:500},onClick:function(){return a.connectMetamask()}},"Connect"),o.a.createElement("p",{className:"out",style:{display:void 0!==a.props.account&&a.state.isLogIn?"block":"none",fontWeight:500},onClick:function(){return a.unConnectMetamask()}},"Logout")))))))},a.state={isLogIn:!1,ETHToUSD:"-"},a.web3=window.web3,window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){a.componentDidMount_temp()}))})),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.componentDidMount_temp()})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}}]),t}(n.Component),ye=a(566),fe=(a(345),function(e){return o.a.createElement(ye.a,{placement:"top",content:e.failedInfo,trigger:e.failed?"hover":""},o.a.createElement("div",{className:"transaction",onClick:function(){return e.goTxnHashHref(e.txnHashHref)}},o.a.createElement("div",{className:"transaction-detail"},o.a.createElement("img",{style:{height:"16px",width:"16px"},src:"images/".concat(e.icon,".png"),alt:"RECORD",className:"loading-supply"===e.icon||"loading-borrow"===e.icon||"loading-borrow-repay"===e.icon||"loading-borrow-approve"===e.icon||"loading-supply-wrap"===e.icon||"loading-supply-unwrap"===e.icon||"loading-supply-weth"===e.icon||"loading-supply-withdraw-weth"===e.icon||"loading-supply-usdx"===e.icon||"loading-supply-withdraw-usdx"===e.icon||"loading-supply-weth-approve"===e.icon||"loading-supply-usdx-approve"===e.icon?"icon-loading":"normal"}),o.a.createElement("span",{style:{marginLeft:"5px"}},e.transactionDetail)),o.a.createElement("div",{className:"transaction-time"},o.a.createElement("span",null,(t=e.transactionTime).substr(0,t.indexOf(" ")).substr(0,3)+". "+t.substr(t.indexOf(" ")+1)))));var t}),he=(a(348),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).getRecentTransactions=function(){if(window.localStorage){if("undefined"===typeof web3)return;var e=window.localStorage,t=C(a.props.account,U.Asset[a.props.coinType],a.props.page,a.state.NetworkName),n=JSON.parse("".concat(e.getItem(t)));null!==n&&n.reverse(),a.setState({RecentTransactions:n})}},a.goTxnHashHref=function(e){window.open(e,"_blank")},a.componentDidMount_temp=function(){setTimeout((function(){a.getRecentTransactions()}),2e3),a.timerID=setInterval((function(){void 0!==a.props.account&&a.getRecentTransactions()}),5e3)},a.render=function(){return a.renderRecord()},a.state={RecentTransactions:[]},a.web3=window.web3,window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){a.componentDidMount_temp()}))})),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.componentDidMount_temp()})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"renderRecord",value:function(){var e=this;return null===this.state.RecentTransactions?"":o.a.createElement("div",{className:"record-board"},o.a.createElement("div",{className:"board-title"},"Recent Transactions"),o.a.createElement("div",{className:"board-content"},this.state.RecentTransactions?this.state.RecentTransactions.map((function(t,a){return o.a.createElement("div",{key:a},o.a.createElement(fe,Object.assign({},t,{goTxnHashHref:e.goTxnHashHref})))})):null))}}]),t}(n.Component));function Se(e){return function(t){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(w.a)(a).call(this,e))).getAccountETHBalanceByAddress=function(){"undefined"!==typeof web3&&void 0!==t.web3.eth.accounts[0]&&t.props.login?t.web3.eth.getBalance(t.web3.eth.accounts[0],(function(e,a){void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&console.log("===>ethBalance balance:"+a+" address:"+t.web3.eth.accounts[0]),void 0!==a&&null!==a&&(a=X(a),t.setState({ETHPersonalBalance:R(a)}))})):t.setState({ETHPersonalBalance:"-"})},t.getAccountUSDXBalanceByAddress=function(){"undefined"!==typeof web3&&void 0!==t.web3.eth.accounts[0]&&void 0!==q()&&t.props.login?q().balanceOf(t.web3.eth.accounts[0],(function(e,a){if(void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&console.log("===>usdxBalance res:"+a+" USDX():"+q()),void 0!==a&&null!==a){var n;n=R(t.web3.fromWei(a.toNumber(),"ether")),t.setState({USDXPersonalBalance:n})}})):t.setState({USDXPersonalBalance:"-"})},t.getAccountWETHBalanceByAddress=function(){"undefined"!==typeof web3&&void 0!==t.web3.eth.accounts[0]&&void 0!==Y()&&t.props.login?Y().balanceOf(t.web3.eth.accounts[0],(function(e,a){if(void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&console.log("===>wethBalance res:"+a+" WETH():"+Y()),void 0!==a&&null!==a){var n;n=R(t.web3.fromWei(a.toNumber(),"ether")),t.setState({WETHPersonalBalance:n})}})):t.setState({WETHPersonalBalance:"-"})},t.new_getETHAssetPrices=function(){if("undefined"!==typeof web3&&void 0!==t.web3.eth.accounts[0]&&void 0!==V()){var e="",a=L(t.state.NetworkName);"Main"===a?e=U.Main.WETH:"Rinkeby"===a&&(e=U.Rinkeby.WETH),V().assetPrices(e,(function(e,n){void 0===n&&null===n||V().assetPrices(U[a].USDx,(function(e,a){if(void 0!==a&&null!==a){var o=0;0!==Number(t.web3.fromWei(a.toNumber(),"ether"))&&(o=R(t.web3.fromWei(n.toNumber(),"ether")/t.web3.fromWei(a.toNumber(),"ether"))),t.setState({ETHToUSD:o},(function(){}))}}))}))}else t.setState({ETHToUSD:"-"})},t.componentDidMount_temp=function(){setTimeout((function(){t.getAccountETHBalanceByAddress(),t.getAccountUSDXBalanceByAddress(),t.getAccountWETHBalanceByAddress(),t.new_getETHAssetPrices()}),2e3),t.timerID=setInterval((function(){var e=void 0!==window.web3?L(t.state.NetworkName):null;"Main"!==e&&"Rinkeby"!==e||(t.getAccountETHBalanceByAddress(),t.getAccountUSDXBalanceByAddress(),t.getAccountWETHBalanceByAddress(),t.new_getETHAssetPrices())}),15e3)},t.state={USDXPersonalBalance:"-",WETHPersonalBalance:"-",ETHPersonalBalance:"-",ETHToUSD:"-",USDxToUSD:0,USDxToUSDUnFormat:0,usdxMarketBalance:0,assets:["WETH","USDx"]},t.web3=window.web3,window.web3.version.getNetwork((function(e,a){a&&t.setState({NetworkName:a},(function(){t.componentDidMount_temp()}))})),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){t.componentDidMount_temp()})),t}return Object(b.a)(a,t),Object(d.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var t=void 0!==window.web3?L(this.state.NetworkName):null,a={USDxBalance:this.state.USDXPersonalBalance,ETHBalance:this.state.ETHPersonalBalance,WETHBalance:this.state.WETHPersonalBalance,ETHToUSD:this.state.ETHToUSD,networkName:this.props.networkName,account:this.props.account,banner:"Main"===t};return o.a.createElement(e,a)}}]),a}(n.Component)}a(349);var xe=function(e){return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"info-sec-wrapper"},e.accountInfo.filter((function(t){return t.page===e.currentPage})).map((function(e,t){return o.a.createElement("div",{className:"info-sec",index:t,key:t},o.a.createElement("div",null,o.a.createElement("img",{src:"images/board_icon.png",style:{marginRight:"7px"},alt:""}),o.a.createElement("div",{className:"info-title"},"USDx Supplied"===e.title?o.a.createElement(N.a,{id:"USDx_Supplied_home"}):null),o.a.createElement("div",{className:"info-title"},"USDx Borrowed"===e.title?o.a.createElement(N.a,{id:"USDx_Borrowed"}):null),o.a.createElement("div",{className:"info-title"},"Utilization Rate"===e.title?o.a.createElement(N.a,{id:"Utilization_Rate"}):null),o.a.createElement("div",{className:"info-title"},"Collateralization ratio"===e.title?o.a.createElement(N.a,{id:"Collateralization_ratio"}):null),o.a.createElement("div",{className:"info-title"},"USDx Supply APR"===e.title?o.a.createElement(N.a,{id:"USDx_Supply_APR"}):null),o.a.createElement("div",{className:"info-title"},"USDx Borrow APR"===e.title?o.a.createElement(N.a,{id:"USDx_Borrow_APR"}):null),o.a.createElement("div",{className:"info-title"},"Total Supplied"===e.title?o.a.createElement(N.a,{id:"Total_Supplied"}):null),o.a.createElement("div",{className:"info-title"},"Total Borrowed"===e.title?o.a.createElement(N.a,{id:"Total_Borrowed"}):null),o.a.createElement("div",{className:"info-title"},"Supply APR"===e.title?o.a.createElement(N.a,{id:"Supply_APR"}):null),o.a.createElement("div",{className:"info-title"},"Borrow APR"===e.title?o.a.createElement(N.a,{id:"Borrow_APR"}):null),o.a.createElement("div",{className:"info-title"},"Supplied Balance"===e.title?o.a.createElement(N.a,{id:"Supplied_Balance"}):null),o.a.createElement("div",{className:"info-title"},"Borrowed Balance"===e.title?o.a.createElement(N.a,{id:"Borrowed_Balance"}):null),o.a.createElement("div",{className:"info-title"},"Available to Borrow"===e.title?o.a.createElement(N.a,{id:"Available_to_Borrow"}):null)),o.a.createElement("div",{className:"info-amount".concat(t+1)},e.amount))}))))},ve=(a(132),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).getWETHAssetPrice=function(){if(void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.WETH:"Rinkeby"===t&&(e=U.Rinkeby.WETH),V().assetPrices(e,(function(t,n){if(void 0!==n&&null!==n){var o="",s=L(a.state.NetworkName);"Main"===s?o=U.Main.USDx:"Rinkeby"===s&&(o=U.Rinkeby.USDx),V().assetPrices(o,(function(t,o){void 0!==o&&null!==o&&0!==a.web3.fromWei(o.toNumber(),"ether")&&0!==n.toNumber()&&a.setState({WETHAssetPrice:a.web3.fromWei(n.toNumber(),"ether")/a.web3.fromWei(o.toNumber(),"ether")},(function(){V().getSupplyBalance(a.web3.eth.accounts[0],e,(function(e,t){void 0!==t&&null!==t&&a.setState({supplyWETHAmount:a.web3.fromWei(t.toNumber(),"ether"),totalSupply:a.state.WETHAssetPrice*a.web3.fromWei(t.toNumber(),"ether")},(function(){}))}))}))}))}}))}},a.calculateAccountValuesByAddress=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx);var n="";"Main"===t?n=U.Main.WETH:"Rinkeby"===t&&(n=U.Rinkeby.WETH);var o="";"Main"===t?o=U.Main.MoneyMarket:"Rinkeby"===t&&(o=U.Rinkeby.MoneyMarket),V().getBorrowBalance(a.web3.eth.accounts[0],e,(function(t,s){if(void 0!==s||null!==s){var i=X(s);V().assetPrices(n,(function(t,s){void 0!==s&&null!==s&&V().assetPrices(e,(function(e,t){void 0!==t&&null!==t&&a.setState({WETHAssetPrice:a.web3.fromWei(s.toNumber(),"ether")/a.web3.fromWei(t.toNumber(),"ether")},(function(){V().getSupplyBalance(a.web3.eth.accounts[0],n,(function(e,t){void 0!==t&&null!==t&&a.setState({supplyWETHAmount:a.web3.fromWei(t.toNumber(),"ether"),totalSupply:a.state.WETHAssetPrice*a.web3.fromWei(t.toNumber(),"ether")},(function(){V().collateralRatio((function(e,n){void 0!==n&&null!==n&&(a.setState({collateralRatioShow:H(a.web3.fromWei(n.toNumber(),"ether"))}),q().balanceOf(o,(function(e,o){o&&V().originationFee((function(e,s){var r=a.web3.fromWei(t.toNumber(),"ether")*a.state.WETHAssetPrice,u=i,l=r/a.web3.fromWei(n.toNumber(),"ether")-u,p=Math.min(l,O(a.web3.fromWei(o.toNumber(),"ether")));Number(p)<0&&(p=0),Number(p)===Number(O(a.web3.fromWei(o.toNumber(),"ether")))?a.setState({availableToBorrow:O(a.web3.fromWei(o.toNumber(),"ether"))},(function(){})):a.setState({availableToBorrow:p/(1+Number(X(s)))},(function(){}))}))})))}))}))}))}))}))}))}}))}},a.getBorrowBalance=function(){if(void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&V().getBorrowBalance(a.web3.eth.accounts[0],e,(function(e,t){void 0!==t&&null!==t&&a.setState({borrowBalance:a.web3.fromWei(t.toNumber(),"ether"),borrowBalanceShow:a.web3.fromWei(t.toNumber(),"ether")},(function(){}))}))}},a.getBorrowInterestRate=function(){if(void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().markets.call(e,(function(e,t){null!==t&&void 0!==t&&a.setState({borrowInterestRate:H(86400*a.web3.fromWei(t[7].toNumber(),"ether")*365/15)})}))}},a.componentDidMount_temp=function(){setTimeout((function(){a.getWETHAssetPrice(),a.getBorrowBalance(),a.getBorrowInterestRate(),a.calculateAccountValuesByAddress()}),2e3),a.getAddressIntervalBorrow=setInterval((function(){a.getWETHAssetPrice(),a.getBorrowBalance(),a.getBorrowInterestRate(),a.calculateAccountValuesByAddress()}),15e3)},a.render=function(){var e=[{title:"Supplied Balance",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?"$"+R(a.state.totalSupply):"-",page:"borrow"},{title:"Borrowed Balance",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?"$"+R(a.state.borrowBalanceShow):"-",page:"borrow"},{title:"Available to Borrow",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?"$"+R(a.state.availableToBorrow):"-",page:"borrow"},{title:"Borrow APR",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?R(a.state.borrowInterestRate)+"%":"-",page:"borrow"},{title:"Collateralization ratio",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?R(a.state.collateralRatioShow)+"%":"-",page:"borrow"}];return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"account-info-board"},o.a.createElement("div",{className:"info-board-title"},o.a.createElement(N.a,{id:"Account_Portfolio"})),o.a.createElement("div",{className:"info-board-content"},o.a.createElement(xe,{accountInfo:e,currentPage:"borrow"}))))},a.state={borrowBalance:0,borrowBalanceShow:0,borrowInterestRate:0,supplyInterestRate:0,totalSupply:0,totalBorrowInMoneyMarket:0,totalBorrowInMoneyMarketUnformat:0,totalSupplyUSDxInMoneyMarket:0,totalSupplyWETHInMoneyMarket:0,availableToBorrow:0,collateralRatio:0,collateralRatioShow:0,usdxBalanceOf:0,cash:0,utilizationRate:0,usdxAssetPrice:0,WETHAssetPrice:0,supplyWETHAmount:0,originationFee:0,tatol_Supplied:0},a.web3=window.web3,window.web3&&window.web3.currentProvider.enable().then((function(e){console.log(a.web3.eth.accounts[0]),window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){a.componentDidMount_temp()}))}))})),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.componentDidMount_temp()})),a}return Object(b.a)(t,e),t}(n.Component)),ge=a(32),Ee=a(47),Ne=a.n(Ee),Me=(a(350),Se(be));n.Component;function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ie=x.a.TabPane,De=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).getCurrentSupplyAssetAmount=function(){if(void 0!==window.web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?("WETH"===a.props.withdrawType&&(e=U.Main.WETH),"USDX"===a.props.withdrawType&&(e=U.Main.USDx)):"Rinkeby"===t&&("WETH"===a.props.withdrawType&&(e=U.Rinkeby.WETH),"USDX"===a.props.withdrawType&&(e=U.Rinkeby.USDx)),V().getSupplyBalance(a.web3.eth.accounts[0],e,(function(e,t){void 0!==t&&null!==t&&a.state.supplyAccountBalance!==a.web3.fromWei(t.toNumber(),"ether")&&a.setState({supplyAccountBalance:a.web3.fromWei(t.toNumber(),"ether")})}))}},a.getAllowance=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==a.props.coin){var e,t=L(a.state.NetworkName);e=U[t].MoneyMarket,a.props.coin.allowance(a.web3.eth.accounts[0],e,(function(e,t){var n=-1;t&&((n=t.toNumber())>0?a.setState({coinAllowance:n,isApproved:!0}):a.setState({isApproved:!1,pendingApproval:!1,buttonText:a.props.approveButtonInfo}))}))}else console.log("---------ka zai zhe li le")},a.getAssetBalance=function(){var e="",t=void 0!==window.web3?L(a.state.NetworkName):null;"Main"===t?e=U.Main.MoneyMarket:"Rinkeby"===t&&(e=U.Rinkeby.MoneyMarket),"undefined"!==typeof web3&&!0===a.props.usdxCoin&&void 0!==q()&&q().balanceOf(e,(function(e,t){var n=0;void 0!==t&&null!==t&&(n=t.toNumber()),a.state.assetBalance!==a.web3.fromWei(n,"ether")&&a.setState({assetBalance:a.web3.fromWei(n,"ether")})}))},a.getCollateralRatio=function(){void 0!==V()&&V().collateralRatio((function(e,t){void 0!==t&&null!==t&&a.setState({collateralRatio:a.web3.fromWei(t.toNumber(),"ether")})}))},a.getUSDxAssetPrice=function(){a.getCalcWETHPrice(),a.getWETHAssetPrice()},a.getCalcWETHPrice=function(){if("undefined"!==typeof web3&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.WETH:"Rinkeby"===t&&(e=U.Rinkeby.WETH),V().assetPrices(e,(function(e,t){void 0!==t&&null!==t&&a.setState({calcWETHPrice:a.web3.fromWei(t.toNumber(),"ether")})}))}},a.getWETHAssetPrice=function(){if("undefined"!==typeof web3&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().assetPrices(e,(function(e,t){void 0!==t&&null!==t&&0!==a.state.calcWETHPrice&&a.setState({supplyAssetPrice:a.state.calcWETHPrice/a.web3.fromWei(t.toNumber(),"ether")})}))}},a.handleApprove=function(){a.setState({isApproved:!1,buttonText:"ENABLEING USDx...",pendingApproval:!0,i_clicked_approve_btn:1});var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.MoneyMarket:"Rinkeby"===t&&(e=U.Rinkeby.MoneyMarket),a.props.coin.approve.estimateGas(e,-1,{from:a.web3.eth.accounts[0]},(function(t,n){a.web3.eth.getGasPrice((function(t,o){console.log("handle_Approve_USDx_gasLimit:"+n),console.log("handle_Approve_USDx_gasPrice:"+o),a.props.coin.approve.sendTransaction(e,-1,{from:a.web3.eth.accounts[0],gas:n,gasPrice:o},(function(e,t){if(t){var n=t,o=J(a.state.NetworkName)+t;a.setState({getHash:!0,hashNumber:t,pendingApproval:!0,i_clicked_approve_btn:0}),P("loading-supply-usdx-approve",a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName,"Enable",null,"USDx",o,n,0,null,!1,null)}else a.setState({isApproved:!1,pendingApproval:!1,buttonText:a.props.approveButtonInfo,i_clicked_approve_btn:0})}))}))}))},a.usdxEventMonitor=function(){if(void 0!==q()){var e=Object(S.a)(a);q().Approval().watch((function(t,n){if(console.log("supply_usdx_Event_Monitor: "+JSON.stringify(n)),t)console.log("supply_usdx_Event_Monitor error: "+JSON.stringify(t));else{var o=null,s=null,i=null;if(window.localStorage&&(o=window.localStorage,i=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName),s=JSON.parse("".concat(o.getItem(i)))),null!==s){var r=JSON.parse(JSON.stringify(n)).transactionHash;a.getAllowance(),a.setState({pendingApproval:!1,isApproved:!0}),o.removeItem(i),s=s.map((function(t){if(0===t.status&&"Enable"===t.transactionType&&t.txId!==r){var a=J(e.state.NetworkName)+r;return Te({},t,{icon:"done",status:1,txId:r,txnHashHref:a})}return t.txId===r?Te({},t,{icon:"done",status:1}):Te({},t)})),o.setItem(i,JSON.stringify(s))}}}))}},a.refreshData=function(){a.getCurrentSupplyAssetAmount(),a.getAssetBalance(),a.getUSDxAssetPrice(),a.get_My_USDx_Supplied_max_Withdraw_USDx_Amount()},a.checkWaitingUpdateTransactionRecords=function(){var e=null,t=null,n=null;if(window.localStorage){if("undefined"===typeof web3)return;e=window.localStorage,!0===a.props.wethCoin?n=C(a.web3.eth.accounts[0],U.Asset.WETH,a.props.page,a.state.NetworkName):!0===a.props.usdxCoin&&(n=C(a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName)),t=JSON.parse("".concat(e.getItem(n)))}null!==t&&(e.removeItem(n),t=t.map((function(e){if("loading-supply-usdx"===e.icon){if(void 0!==a.state.supplyUSDxWaitUpdateForSuccessMap.get(e.txId))return a.setState({isSupplyEnable:!0,supplyInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),a.setState({isWithdrawEnable:!0}),a.setState({withdrawAmount:null,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),!0===a.props.wethCoin&&a.setState({unwrapAmount:""})),Te({},e,{icon:"supply",status:1});if(void 0!==a.state.supplyUSDxWaitUpdateForFailedMap.get(e.txId))return a.setState({isSupplyEnable:!0,supplyInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),!0===a.props.wethCoin&&a.setState({unwrapAmount:""}),a.setState({isWithdrawEnable:!0,supplyAmount:"",withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),a.setState({withdrawAmount:null,withdrawMax:!1})),Te({},e,{icon:"failure",status:1,failed:!0,failedInfo:"TRANSACTION FAILURE"});if(void 0!==a.state.supplyUSDxWaitTimeOutMap.get(e.txId))return Te({},e,{timeOutFlag:1})}if("loading-supply-withdraw-usdx"===e.icon){if(void 0!==a.state.withdrawUSDxWaitUpdateForSuccessMap.get(e.txId))return a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isWithdrawEnable:!0,supplyAmount:""}),a.setState({withdrawAmount:null,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"})),Te({},e,{icon:"withdraw",status:1});if(void 0!==a.state.withdrawUSDxWaitUpdateForFailedMap.get(e.txId))return a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1}),void 0!==window.ethereum.isImToken&&!0===window.ethereum.isImToken&&(a.refreshData(),a.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),!0===a.props.wethCoin&&a.setState({unwrapAmount:""}),a.setState({isWithdrawEnable:!0,supplyAmount:"",withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),a.setState({withdrawAmount:null,withdrawMax:!1})),Te({},e,{icon:"failure",status:1,failed:!0,failedInfo:"WITHDRAW USDx FAILURE"});if(void 0!==a.state.withdrawUSDxWaitTimeOutMap.get(e.txId))return Te({},e,{timeOutFlag:1})}if("loading-supply-usdx-approve"===e.icon){if(void 0!==a.state.enableUSDxWaitUpdateForSuccessMap.get(e.txId))return a.setState({pendingApproval:!1,isApproved:!0}),Te({},e,{icon:"done",status:1});if(void 0!==a.state.enableUSDxWaitUpdateForFailedMap.get(e.txId))return a.setState({pendingApproval:!1,isApproved:!0}),Te({},e,{icon:"failure",status:1,failed:!0,failedInfo:"ENABLE USDx FAILURE"});if(void 0!==a.state.enableUSDxWaitTimeOutMap.get(e.txId))return Te({},e,{timeOutFlag:1})}return Te({},e)})),e.setItem(n,JSON.stringify(t)))},a.checkTransactionsStatus=function(){var e=null,t=null,n=null;if(window.localStorage){if("undefined"===typeof web3)return;e=window.localStorage,n=C(a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName),t=JSON.parse("".concat(e.getItem(n)))}null!==t&&(t=t.map((function(e){if("loading-supply-wrap"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var t=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(t=1,a.setState({isWrapEnable:!0,wrapInputDisabled:!1,wrapAmount:""})):a.setState({isWrapEnable:!1,wrapInputDisabled:!0});var n=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(n=1),t&&"0x0"===t.status&&(n=0)})),setTimeout((function(){1===n&&void 0===a.state.supplyWrapWaitUpdateForSuccessMap.get(e.txId)&&a.state.supplyWrapWaitUpdateForSuccessMap.set(e.txId,e),0===n&&void 0===a.state.supplyWrapWaitUpdateForFailedMap.get(e.txId)&&a.state.supplyWrapWaitUpdateForFailedMap.set(e.txId,e),1===t&&void 0===a.state.supplyWrapWaitTimeOutMap.get(e.txId)&&a.state.supplyWrapWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isWrapEnable:!0,wrapInputDisabled:!1})}if("loading-supply-unwrap"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var o=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(o=1,a.setState({isunwrapEnable:!0,unwrapAmount:"",unwrapInputDisabled:!1,unwrapMaxClassName:"max-amount-button"})):a.setState({isunwrapEnable:!1,unwrapInputDisabled:!0,unwrapMaxClassName:"max-amount-button-disable"});var s=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(s=1),t&&"0x0"===t.status&&(s=0)})),setTimeout((function(){1===s&&void 0===a.state.supplyUnwrapWaitUpdateForSuccessMap.get(e.txId)&&a.state.supplyUnwrapWaitUpdateForSuccessMap.set(e.txId,e),0===s&&void 0===a.state.supplyUnwrapWaitUpdateForFailedMap.get(e.txId)&&a.state.supplyUnwrapWaitUpdateForFailedMap.set(e.txId,e),1===o&&void 0===a.state.supplyUnwrapWaitTimeOutMap.get(e.txId)&&a.state.supplyUnwrapWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isunwrapEnable:!0,unwrapInputDisabled:!1})}if("loading-supply-weth"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var i=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(i=1,a.setState({isSupplyEnable:!0,supplyAmount:"",supplyButtonText:a.props.supplyButtonInfo,supplyInputDisabled:!1,maxClassName:"max-amount-button"})):a.setState({isSupplyEnable:!1,supplyButtonText:"SUBMITTING\u2026",supplyInputDisabled:!0,maxClassName:"max-amount-button-disable"});var r=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(r=1),t&&"0x0"===t.status&&(r=0)})),setTimeout((function(){1===r&&void 0===a.state.supplyWETHWaitUpdateForSuccessMap.get(e.txId)&&a.state.supplyWETHWaitUpdateForSuccessMap.set(e.txId,e),0===r&&void 0===a.state.supplyWETHWaitUpdateForFailedMap.get(e.txId)&&a.state.supplyWETHWaitUpdateForFailedMap.set(e.txId,e),1===i&&void 0===a.state.supplyWETHWaitTimeOutMap.get(e.txId)&&a.state.supplyWETHWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isSupplyEnable:!0,supplyInputDisabled:!1})}if("loading-supply-withdraw-weth"===e.icon)if(0===e.status){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;var u=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(u=1,a.setState({isWithdrawEnable:!0,withdrawAmount:"",withdrawMax:!1,withdrawButtonText:a.state.withdrawButtonInfo,withdrawInputDisabled:!0,withdrawMaxClassName:"max-amount-button"})):a.setState({isWithdrawEnable:!1,withdrawButtonText:"SUBMITTING\u2026",withdrawInputDisabled:!0,withdrawMaxClassName:"max-amount-button-disable"});var l=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(l=1),t&&"0x0"===t.status&&(l=0)})),setTimeout((function(){1===l&&void 0===a.state.withdrawWETHWaitUpdateForSuccessMap.get(e.txId)&&a.state.withdrawWETHWaitUpdateForSuccessMap.set(e.txId,e),0===l&&void 0===a.state.withdrawWETHWaitUpdateForFailedMap.get(e.txId)&&a.state.withdrawWETHWaitUpdateForFailedMap.set(e.txId,e),1===u&&void 0===a.state.withdrawWETHWaitTimeOutMap.get(e.txId)&&a.state.withdrawWETHWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1});if("loading-supply-usdx"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var p=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(p=1,a.setState({isSupplyEnable:!0,supplyAmount:"",supplyInputDisabled:!1,supplyButtonText:a.props.supplyButtonInfo,maxClassName:"max-amount-button"})):a.setState({isSupplyEnable:!1,supplyButtonText:"SUBMITTING\u2026",supplyInputDisabled:!0,maxClassName:"max-amount-button-disable"});var c=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(c=1),t&&"0x0"===t.status&&(c=0)})),setTimeout((function(){1===c&&void 0===a.state.supplyUSDxWaitUpdateForSuccessMap.get(e.txId)&&a.state.supplyUSDxWaitUpdateForSuccessMap.set(e.txId,e),0===c&&void 0===a.state.supplyUSDxWaitUpdateForFailedMap.get(e.txId)&&a.state.supplyUSDxWaitUpdateForFailedMap.set(e.txId,e),1===p&&void 0===a.state.supplyUSDxWaitTimeOutMap.get(e.txId)&&a.state.supplyUSDxWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isSupplyEnable:!0,supplyInputDisabled:!1})}if("loading-supply-withdraw-usdx"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var d=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(d=1,a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1,withdrawButtonText:a.props.withdrawButtonInfo,withdrawMax:!1,withdrawMaxClassName:"max-amount-button"})):a.setState({isWithdrawEnable:!1,withdrawButtonText:"SUBMITTING\u2026",withdrawInputDisabled:!0,withdrawMaxClassName:"max-amount-button-disable"});var m=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(m=1),t&&"0x0"===t.status&&(m=0)})),setTimeout((function(){1===m&&void 0===a.state.withdrawUSDxWaitUpdateForSuccessMap.get(e.txId)&&a.state.withdrawUSDxWaitUpdateForSuccessMap.set(e.txId,e),0===m&&void 0===a.state.withdrawUSDxWaitUpdateForFailedMap.get(e.txId)&&a.state.withdrawUSDxWaitUpdateForFailedMap.set(e.txId,e),1===d&&void 0===a.state.withdrawUSDxWaitTimeOutMap.get(e.txId)&&a.state.withdrawUSDxWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1})}if("loading-supply-weth-approve"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var w=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(w=1,a.setState({isApproved:!1,pendingApproval:!1}),a.setState({buttonText:a.props.approveButtonInfo})):a.setState({buttonText:"ENABLEING WETH...",pendingApproval:!0});var b=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(b=1),t&&"0x0"===t.status&&(b=0)})),setTimeout((function(){1===b&&void 0===a.state.enableWETHWaitUpdateForSuccessMap.get(e.txId)&&a.state.enableWETHWaitUpdateForSuccessMap.set(e.txId,e),0===b&&void 0===a.state.enableWETHWaitUpdateForFailedMap.get(e.txId)&&a.state.enableWETHWaitUpdateForFailedMap.set(e.txId,e),1===w&&void 0===a.state.enableWETHWaitTimeOutMap.get(e.txId)&&a.state.enableWETHWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({pendingApproval:!1})}if("loading-supply-usdx-approve"===e.icon){if(void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1===e.timeOutFlag)return 0;if(0===e.status){var y=-1;void 0!==e.timestamp&&z(e.timestamp)>=a.state.timeOutTimes&&void 0!==e.timeOutFlag&&1!==e.timeOutFlag?(y=1,a.setState({isApproved:!1,pendingApproval:!1}),a.setState({buttonText:a.props.approveButtonInfo})):a.setState({buttonText:"ENABLEING USDx...",pendingApproval:!0});var f=-1;a.web3.eth.getTransactionReceipt(e.txId,(function(e,t){t&&"0x1"===t.status&&(f=1),t&&"0x0"===t.status&&(f=0)})),setTimeout((function(){1===f&&void 0===a.state.enableUSDxWaitUpdateForSuccessMap.get(e.txId)&&a.state.enableUSDxWaitUpdateForSuccessMap.set(e.txId,e),0===f&&void 0===a.state.enableUSDxWaitUpdateForFailedMap.get(e.txId)&&a.state.enableUSDxWaitUpdateForFailedMap.set(e.txId,e),1===y&&void 0===a.state.enableUSDxWaitTimeOutMap.get(e.txId)&&a.state.enableUSDxWaitTimeOutMap.set(e.txId,e)}),3e3)}else a.setState({pendingApproval:!1})}return e.id})))},a.mmMonitor=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()&&void 0!==V()){var e=Object(S.a)(a);V().SupplyReceived().watch((function(t,a){if(console.log("supply_USDx_Received_Event: "+JSON.stringify(a)),t)console.log("supply_USDx_Received_Event eeeeeeeeeeerror --\x3e "+JSON.stringify(t));else{var n=null,o=null,s=null;if(window.localStorage){if("undefined"===typeof web3)return;n=window.localStorage,s=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName),o=JSON.parse("".concat(n.getItem(s)))}if(null!==o){var i=JSON.parse(JSON.stringify(a)),r=i.transactionHash;e.refreshData(),e.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),e.setState({withdrawAmount:null,isWithdrawEnable:!0,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),!0===e.props.wethCoin&&e.setState({unwrapAmount:""}),n.removeItem(s);var u=JSON.parse(JSON.stringify(i.args));o=o.map((function(t){if(0===t.status&&"Supply"===t.transactionType&&t.realAmount===u.amount&&t.txId!==r){var a=J(e.state.NetworkName)+r;return Te({},t,{icon:"supply",status:1,txId:r,txnHashHref:a})}return t.txId===r?Te({},t,{icon:"supply",status:1}):Te({},t)})),n.setItem(s,JSON.stringify(o))}}})),V().SupplyWithdrawn().watch((function(t,a){if(console.log("watch -> supplyWithdrawnEvent:"+JSON.stringify(a)),t)console.log("watch mmMonitor supplyWithdrawnEvent error --\x3e "+JSON.stringify(t));else{var n=null,o=null,s=null;if(window.localStorage){if("undefined"===typeof web3)return;n=window.localStorage,!0===e.props.wethCoin?s=C(e.props.account,U.Asset.WETH,e.props.page,e.state.NetworkName):!0===e.props.usdxCoin&&(s=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName)),o=JSON.parse("".concat(n.getItem(s)))}if(null!==o){var i=JSON.parse(JSON.stringify(a)),r=i.transactionHash;e.refreshData(),e.setState({isWithdrawEnable:!0,supplyAmount:""}),e.setState({withdrawAmount:null,withdrawMax:!1,withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),n.removeItem(s);var u=JSON.parse(JSON.stringify(i.args));o=o.map((function(t){if(0===t.status&&"Withdraw"===t.transactionType&&t.realAmount===u.amount&&t.txId!==r){var a=J(e.state.NetworkName)+r;return Te({},t,{icon:"withdraw",status:1,txId:r,txnHashHref:a})}return t.txId===r?Te({},t,{icon:"withdraw",status:1}):Te({},t)})),n.setItem(s,JSON.stringify(o))}}})),V().Failure().watch((function(t,a){if(console.log("watch -> failureEvent:"+JSON.stringify(a)),t)console.log("watch mmMonitor failureEvent error --\x3e "+JSON.stringify(t));else{var n=null,o=null,s=null;if(window.localStorage){if("undefined"===typeof web3)return;n=window.localStorage,!0===e.props.wethCoin?s=C(e.props.account,U.Asset.WETH,e.props.page,e.state.NetworkName):!0===e.props.usdxCoin&&(s=C(e.props.account,U.Asset.USDx,e.props.page,e.state.NetworkName)),o=JSON.parse("".concat(n.getItem(s)))}if(null!==o){var i=JSON.parse(JSON.stringify(a)),r=i.transactionHash;e.refreshData(),e.setState({isSupplyEnable:!0,supplyAmount:null,supplyInputDisabled:!1,maxClassName:"max-amount-button"}),!0===e.props.wethCoin&&e.setState({unwrapAmount:""}),e.setState({isWithdrawEnable:!0,supplyAmount:"",withdrawInputDisabled:!1,withdrawMaxClassName:"max-amount-button"}),e.setState({withdrawAmount:null,withdrawMax:!1}),n.removeItem(s),o=o.map((function(e){if(e.txId===r){var t=i.args,a=JSON.parse(JSON.stringify(t));return console.log("failure info:"+ae[a.error]),Te({},e,{icon:"failure",status:1,failed:!0,failedInfo:ae[a.error]})}return Te({},e)})),n.setItem(s,JSON.stringify(o))}}}))}},a.refreshDataEventMonitor=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()&&void 0!==V()&&V().allEvents({toBlock:"latest"}).watch((function(e,t){if(e)console.log("watch error --\x3e "+JSON.stringify(e));else{var n=JSON.parse(JSON.stringify(t)).event;"BorrowTaken"!==n&&"BorrowRepaid"!==n||(a.setState({withdrawAmount:""}),a.get_My_USDx_Supplied_max_Withdraw_USDx_Amount())}}))},a.Get_My_USDx_Balance=function(){"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==q()&&q().balanceOf(a.web3.eth.accounts[0],(function(e,t){t&&a.setState({My_USDx_Balance:a.web3.fromWei(t.toNumber(),"ether"),My_USDx_Balance_BN:t},(function(){}))}))},a.get_My_USDx_Supplied_max_Withdraw_USDx_Amount=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==q()&&void 0!==V()){var e="",t="",n=L(a.state.NetworkName);"Main"===n?(e=U.Main.USDx,t=U.Main.MoneyMarket):"Rinkeby"===n&&(e=U.Rinkeby.USDx,t=U.Rinkeby.MoneyMarket),V().getAccountLiquidity(a.web3.eth.accounts[0],(function(n,o){o&&V().assetPrices(e,(function(n,s){s&&(o=o.mul(a.web3.toBigNumber(Math.pow(10,18))).div(s),V().getSupplyBalance(a.web3.eth.accounts[0],e,(function(e,n){n&&a.setState({My_USDx_Supplied:a.web3.fromWei(n.toNumber(),"ether")},(function(){q().balanceOf(t,(function(e,t){if(t){var s=o.sub(n).toNumber()<0?o:n,i=s.sub(t).toNumber()<0?s:t;if(!i.gt(a.web3.toBigNumber(0)))return void a.setState({maxWithdrawUSDXAmount:0});a.setState({maxWithdrawUSDXAmount:a.web3.fromWei(i.toNumber(),"ether"),maxWithdrawUSDXAmount_BN:i})}}))}))})))}))}))}},a.handle_Supply_Max=function(){var e=a.state.My_USDx_Balance_BN.div(a.web3.toBigNumber(Math.pow(10,18))).toLocaleString().substring(0,18);a.setState({i_will_supply_max:!0,supplyAmount:e}),0===Number(a.state.My_USDx_Balance_BN)?a.setState({isSupplyEnable:!1,supplyButtonText:a.props.supplyButtonInfo}):a.setState({isSupplyEnable:!0})},a.handle_Supply_Change=function(e){if(!(e.length>18)){if(a.setState({i_will_supply_max:!1}),console.log(e),null===e||""===e)return console.log("value === null || value === ''"),void a.setState({isSupplyEnable:!0,supplyButtonText:a.props.supplyButtonInfo,supplyAmount:""});if(e.length>18||a.web3.toBigNumber(e).mul(a.web3.toBigNumber(Math.pow(10,18))).sub(a.state.My_USDx_Balance_BN)>0){return console.log(a.web3.toBigNumber(e).mul(a.web3.toBigNumber(Math.pow(10,18))).sub(a.state.My_USDx_Balance_BN)>0),void a.setState({supplyAmount:e,isSupplyEnable:!1,supplyButtonText:"INSUFFICIENT BALANCE"})}a.setState({supplyAmount:e}),0!==Number(e)?a.setState({isSupplyEnable:!0}):a.setState({isSupplyEnable:!1,supplyButtonText:a.props.supplyButtonInfo})}},a.handle_Supply_Click=function(){if(""!==a.state.supplyAmount&&0!==a.state.supplyAmount&&null!==a.state.supplyAmount){a.setState({isSupplyEnable:!1,supplyButtonText:"SUBMITTING\u2026",supplyInputDisabled:!0,maxClassName:"max-amount-button-disable"});var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx);var n=a.web3.toBigNumber(0);n=a.state.i_will_supply_max?a.state.My_USDx_Balance_BN:a.web3.toBigNumber(a.state.supplyAmount).mul(a.web3.toBigNumber(Math.pow(10,18))),V().supply.estimateGas(e,n,{from:a.web3.eth.accounts[0]},(function(t,o){a.web3.eth.getGasPrice((function(t,s){V().supply.sendTransaction(e,n,{from:a.web3.eth.accounts[0],gas:o,gasPrice:s},(function(e,t){if(void 0!==t&&null!==t){var n=t,o=J(a.state.NetworkName)+t,s=R(a.state.supplyAmount);P("loading-supply-usdx",a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName,"Supply",s,"USDx",o,n,0,a.web3.toWei(a.state.supplyAmount,"ether"),!1,null)}else a.setState({isSupplyEnable:!0,supplyInputDisabled:!1})}))}))}))}},a.handle_Withdraw_Max=function(){var e=a.state.maxWithdrawUSDXAmount_BN.div(a.web3.toBigNumber(Math.pow(10,18))).toLocaleString().substring(0,18);a.setState({withdrawAmount:e,withdrawMax:!0},(function(){0===Number(a.state.maxWithdrawUSDXAmount)?a.setState({isWithdrawEnable:!1,withdrawButtonText:"INSUFFICIENT LIQUIDITY"}):a.setState({isWithdrawEnable:!0})}))},a.handle_Withdraw_Change=function(e){e.length>18||(a.setState({withdrawMax:!1}),null!==e&&""!==e?a.web3.toBigNumber(e).mul(a.web3.toBigNumber(Math.pow(10,18))).sub(a.state.maxWithdrawUSDXAmount_BN)>0?a.setState({withdrawAmount:e,isWithdrawEnable:!1,withdrawButtonText:"INSUFFICIENT LIQUIDITY"}):(a.setState({withdrawAmount:e}),0===Number(e)?a.setState({isWithdrawEnable:!1,withdrawButtonText:"INSUFFICIENT LIQUIDITY"}):a.setState({isWithdrawEnable:!0})):a.setState({isWithdrawEnable:!0,withdrawButtonText:a.state.withdrawButtonInfo,withdrawAmount:"",withdrawMax:!1}))},a.handle_Withdraw_Click=function(){if(""!==a.state.withdrawAmount&&0!==Number(a.state.withdrawAmount)&&null!==a.state.withdrawAmount){var e=a.web3.toBigNumber(a.state.withdrawAmount).mul(a.web3.toBigNumber(Math.pow(10,18)));a.state.withdrawMax&&(e=-1),a.setState({isWithdrawEnable:!1,withdrawButtonText:"SUBMITTING\u2026",withdrawInputDisabled:!0,withdrawMaxClassName:"max-amount-button-disable"});var t="",n=L(a.state.NetworkName);"Main"===n?t=U.Main.USDx:"Rinkeby"===n&&(t=U.Rinkeby.USDx),V().withdraw.estimateGas(t,e,{from:a.web3.eth.accounts[0]},(function(n,o){a.web3.eth.getGasPrice((function(n,s){V().withdraw.sendTransaction(t,e,{from:a.web3.eth.accounts[0],gas:o,gasPrice:s},(function(t,n){if(void 0!==n&&null!==n){var o=n,s=J(a.state.NetworkName)+n,i=R(-1===e?a.state.maxWithdrawUSDXAmount:a.state.withdrawAmount);P("loading-supply-withdraw-usdx",a.web3.eth.accounts[0],U.Asset.USDx,a.props.page,a.state.NetworkName,"Withdraw",i,"USDx",s,o,0,!0===a.state.withdrawMax?-1:a.web3.toWei(a.state.withdrawAmount,"ether"),!1,null)}else a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1})}))}))}))}},a.refresh_status=function(){a.Get_My_USDx_Balance()},a.componentDidMount_temp=function(){void 0!==window.web3&&void 0===window.ethereum.isImToken&&a.usdxEventMonitor(),a.checkTransactionsStatusTimer=setInterval((function(){a.checkTransactionsStatus()}),1e3),a.checkWaitingUpdateTimer=setInterval((function(){a.checkWaitingUpdateTransactionRecords()}),1e3),void 0!==window.web3&&void 0===window.ethereum.isImToken&&(a.mmMonitor(),a.refreshDataEventMonitor()),a.getAllowance(),a.getCollateralRatio(),a.getCurrentSupplyAssetAmount(),a.getAssetBalance(),a.getUSDxAssetPrice(),a.get_My_USDx_Supplied_max_Withdraw_USDx_Amount(),a.Get_My_USDx_Balance(),a.refreshInterval=setInterval((function(){a.getCurrentSupplyAssetAmount(),a.getAssetBalance(),a.get_My_USDx_Supplied_max_Withdraw_USDx_Amount(),a.Get_My_USDx_Balance()}),15e3)},a.state={currentUser:"",pendingApproval:!1,isApproved:!1,isSupplyEnable:!0,isWithdrawEnable:!0,isWrapEnable:!0,isunwrapEnable:!0,supplyAmount:"",withdrawAmount:"",withdrawMax:!1,maxWithdrawAmount:0,wrapAmount:"",unwrapAmount:"",coinAllowance:0,accountBalance:0,supplyAccountBalance:0,supplyWETHBalance:0,buttonText:"",supplyButtonText:"",withdrawButtonText:"",collateralRatio:0,assetBalance:0,gasPrice:0,gasLimit:0,supplyAssetPrice:0,calcWETHPrice:0,supplyInputDisabled:!1,withdrawInputDisabled:!1,wrapInputDisabled:!1,unwrapInputDisabled:!1,maxClassName:"max-amount-button",withdrawMaxClassName:"max-amount-button",unwrapMaxClassName:"max-amount-button",supplyUSDxWaitUpdateForSuccessMap:new Map,supplyUSDxWaitUpdateForFailedMap:new Map,supplyUSDxWaitTimeOutMap:new Map,withdrawUSDxWaitUpdateForSuccessMap:new Map,withdrawUSDxWaitUpdateForFailedMap:new Map,withdrawUSDxWaitTimeOutMap:new Map,supplyWrapWaitUpdateForSuccessMap:new Map,supplyWrapWaitUpdateForFailedMap:new Map,supplyWrapWaitTimeOutMap:new Map,supplyUnwrapWaitUpdateForSuccessMap:new Map,supplyUnwrapWaitUpdateForFailedMap:new Map,supplyUnwrapWaitTimeOutMap:new Map,supplyWETHWaitUpdateForSuccessMap:new Map,supplyWETHWaitUpdateForFailedMap:new Map,supplyWETHWaitTimeOutMap:new Map,withdrawWETHWaitUpdateForSuccessMap:new Map,withdrawWETHWaitUpdateForFailedMap:new Map,withdrawWETHWaitTimeOutMap:new Map,enableUSDxWaitUpdateForSuccessMap:new Map,enableUSDxWaitUpdateForFailedMap:new Map,enableUSDxWaitTimeOutMap:new Map,enableWETHWaitUpdateForSuccessMap:new Map,enableWETHWaitUpdateForFailedMap:new Map,enableWETHWaitTimeOutMap:new Map,timeOutTimes:5,maxWithdrawUSDXAmount:0,i_clicked_approve_btn:0},a.web3=window.web3,window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(e){setTimeout(a.refreshData(),500),a.getAllowance(),a.setState({supplyAmount:"",withdrawAmount:"",wrapAmount:"",unwrapAmount:""}),a.setState({isWrapEnable:!0,wrapInputDisabled:!1}),a.setState({isunwrapEnable:!0,unwrapInputDisabled:!1}),a.setState({isSupplyEnable:!0,supplyInputDisabled:!1}),a.setState({isWithdrawEnable:!0,withdrawInputDisabled:!1}),a.setState({pendingApproval:!1})})),window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){a.componentDidMount_temp()}))})),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.componentDidMount_temp()})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.refreshInterval),clearInterval(this.accountInterval),clearInterval(this.checkTransactionsStatusTimer),clearInterval(this.checkWaitingUpdateTimer)}},{key:"render",value:function(){var e=this,t={enableMessage:"Before supplying USDx for the first time, you must enable USDx.",isEnable:!this.state.pendingApproval,buttonInfo:this.state.isApproved?this.props.approveButtonInfo:""===this.state.buttonText?this.props.approveButtonInfo:this.state.buttonText,handleClick:this.handleApprove,page:this.props.page};return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"supply-input"},o.a.createElement("div",{className:"info-wrapper"},o.a.createElement("span",{className:"balance-type"},o.a.createElement("img",{style:{width:"16px",height:"16px",margin:"auto",marginTop:"-4px"},src:"images/USDx@2x.png",alt:""}),"\xa0",o.a.createElement(N.a,{id:"USDx_Supplied"})),o.a.createElement("span",{className:"balance-amount"},this.state.My_USDx_Supplied?R(this.state.My_USDx_Supplied):"-")),o.a.createElement(x.a,{className:"tab-wrapper",animated:!0,size:"large",onChange:this.changePane},o.a.createElement(Ie,{tab:"SUPPLY"===this.props.tabLeftName?"zh-CN"===navigator.language?"\u5b58\u6b3e":"SUPPLY":this.props.tabLeftName,key:"1",className:"tab-content"},1==this.props.isApproved_USDx?o.a.createElement("span",null,o.a.createElement("div",{className:"balance-info"},o.a.createElement("span",{className:"balance-desc"},o.a.createElement(N.a,{id:"USDx_Balance"})),o.a.createElement("span",{className:"balance-amount"},this.state.My_USDx_Balance?R(this.state.My_USDx_Balance):"-","\xa0USDx")),o.a.createElement("div",{className:"input-unit-wrapper"},this.props.hasBorrowedUSDx?o.a.createElement("div",{className:"alert-message"},o.a.createElement(N.a,{id:"Already_borrowed"})):o.a.createElement("div",{className:"input-wrapper"},o.a.createElement(v.a,{type:"number",placeholder:"Amount in USDx",min:0,value:this.state.supplyAmount,onChange:function(t){return e.handle_Supply_Change(t.target.value)},className:"input-number",disabled:this.state.supplyInputDisabled}),o.a.createElement("span",{className:this.state.maxClassName,onClick:this.state.supplyInputDisabled?"":this.handle_Supply_Max},"MAX")),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement(g.a,{size:"large",className:this.props.hasBorrowedUSDx||!this.state.isSupplyEnable?"disable-button":"",onClick:function(){e.handle_Supply_Click()},disabled:!this.state.isSupplyEnable||!!this.props.hasBorrowedUSDx},this.state.isSupplyEnable?this.props.supplyButtonInfo:this.state.supplyButtonText)))):null,1==this.props.not_approve_atfirst_USDX?o.a.createElement(T,t):null),o.a.createElement(Ie,{tab:"WITHDRAW"===this.props.tabRightName?"zh-CN"===navigator.language?"\u53d6\u51fa":"WITHDRAW":this.props.tabRightName,key:"2",className:"tab-content"},1==this.props.isApproved_USDx?o.a.createElement("div",{className:"balance-info"},o.a.createElement("span",{className:"balance-desc"},o.a.createElement(N.a,{id:"USDx_Available_supply"})),o.a.createElement("span",{className:"balance-amount"},this.state.maxWithdrawUSDXAmount?R(this.state.maxWithdrawUSDXAmount):"-","\xa0")):null,1==this.props.isApproved_USDx?o.a.createElement("div",{className:"input-unit-wrapper"},this.props.hasBorrowedUSDx?o.a.createElement("div",{className:"alert-message"},o.a.createElement(N.a,{id:"Already_borrowed"})):o.a.createElement("div",{className:"input-wrapper"},o.a.createElement(v.a,{type:"number",placeholder:"Amount in USDx",min:0,value:this.state.withdrawAmount,onChange:function(t){e.handle_Withdraw_Change(t.target.value)},className:"input-number",disabled:this.state.withdrawInputDisabled}),o.a.createElement("span",{className:this.state.withdrawMaxClassName,onClick:this.state.withdrawInputDisabled?"":this.handle_Withdraw_Max},"MAX")),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement(g.a,{size:"large",className:this.props.hasBorrowedUSDx||!this.state.isWithdrawEnable?"disable-button":"",onClick:this.handle_Withdraw_Click,disabled:!this.state.isWithdrawEnable||!!this.props.hasBorrowedUSDx},this.state.isWithdrawEnable?this.props.withdrawButtonInfo:this.state.withdrawButtonText))):o.a.createElement(T,t)))))}}]),t}(n.Component),We=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).get_USDx_supply_borrow=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().markets.call(e,(function(e,t){void 0!==t&&null!==t&&a.setState({USDx_supply:a.web3.fromWei(t[3],"ether"),USDx_borrow:a.web3.fromWei(t[6],"ether"),USDx_supply_APR:H(86400*a.web3.fromWei(t[4].toNumber(),"ether")*365/15),USDx_borrow_APR:H(86400*a.web3.fromWei(t[7].toNumber(),"ether")*365/15)})}))}},a.componentDidMount=function(){window.web3&&window.web3.currentProvider.enable().then((function(e){window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){a.get_USDx_supply_borrow()}))}))})),a.timer_supply=setInterval((function(){a.get_USDx_supply_borrow()}),15e3),window.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.get_USDx_supply_borrow()}))},a.componentWillUnmount=function(){clearInterval(a.timer_supply)},a.render=function(){var e=[{title:"Total Supplied",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?"$"+R(a.state.USDx_supply):"-",page:"lend"},{title:"Total Borrowed",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?"$"+R(a.state.USDx_borrow):"-",page:"lend"},{title:"Supply APR",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?R(a.state.USDx_supply_APR)+"%":"-",page:"lend"},{title:"Borrow APR",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?R(a.state.USDx_borrow_APR)+"%":"-",page:"lend"}];return o.a.createElement(E.a,{locale:"en",messages:"zh-CN"===navigator.language?A:M},o.a.createElement("div",{className:"account-info-board"},o.a.createElement("div",{className:"info-board-title"},o.a.createElement(N.a,{id:"USDx_Market"})),o.a.createElement("div",{className:"info-board-content"},o.a.createElement(xe,{accountInfo:e,currentPage:"lend"}))))},a.state={},a.web3=window.web3,a}return Object(b.a)(t,e),t}(n.Component),Be=(a(352),Se(be)),Ue=(n.Component,a(353),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).get_USDx_supply_borrow=function(){if("undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&void 0!==V()){var e="",t=L(a.state.NetworkName);"Main"===t?e=U.Main.USDx:"Rinkeby"===t&&(e=U.Rinkeby.USDx),V().markets.call(e,(function(e,t){void 0!==t&&null!==t&&a.setState({USDx_supply:a.web3.fromWei(t[3],"ether"),USDx_borrow:a.web3.fromWei(t[6],"ether"),USDx_supply_APR:H(86400*a.web3.fromWei(t[4].toNumber(),"ether")*365/15),USDx_borrow_APR:H(86400*a.web3.fromWei(t[7].toNumber(),"ether")*365/15)},(function(){a.setState({USDx_borrow_supply_rate:H(a.state.USDx_borrow/a.state.USDx_supply)})}))}))}},a.componentDidMount=function(){window.web3&&window.web3.currentProvider.enable().then((function(e){window.web3.version.getNetwork((function(e,t){t&&a.setState({NetworkName:t},(function(){a.get_USDx_supply_borrow()}))}))})),a.timer_main=setInterval((function(){a.get_USDx_supply_borrow()}),15e3),a.web3.currentProvider.isMetaMask&&window.ethereum.on("accountsChanged",(function(){a.get_USDx_supply_borrow()}))},a.componentWillUnmount=function(){clearInterval(a.timer_main)},a.render=function(){var e=[{title:"USDx Supplied",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?"$"+R(a.state.USDx_supply):"-",page:"main"},{title:"USDx Borrowed",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?"$"+R(a.state.USDx_borrow):"-",page:"main"},{title:"Utilization Rate",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?R(a.state.USDx_borrow_supply_rate)+"%":"-",page:"main"},{title:"Collateralization ratio",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?"125.00%":"-",page:"main"},{title:"USDx Supply APR",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?R(a.state.USDx_supply_APR)+"%":"-",page:"main"},{title:"USDx Borrow APR",amount:"undefined"!==typeof web3&&void 0!==a.web3.eth.accounts[0]&&a.props.login?R(a.state.USDx_borrow_APR)+"%":"-",page:"main"}];return o.a.createElement("div",{className:"main-info-board"},o.a.createElement("div",{className:"main-info-board-content"},o.a.createElement(xe,{accountInfo:e,currentPage:"main"})))},a.state={},a.web3=window.web3,a}return Object(b.a)(t,e),t}(n.Component)),_e=(n.Component,a(354),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).componentDidMount_temp=function(){setTimeout((function(){a.connectMetamask(),a.getCurentAccount()}),2e3),a.getCurentAccountTimer=setInterval((function(){a.getCurentAccount()}),15e3)},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"test... home"))}}]),t}(n.Component)),Oe=a(163),ke=a.n(Oe),Fe=o.a.createElement("img",{style:{margin:"auto"},src:"images/alert_icon.png",alt:""}),He=o.a.createElement("img",{style:{margin:"auto"},src:"images/note_alert.png",alt:""}),Re=a(557),Ce=a(178),Pe=a(558),Je=a(559),Le=a(179),je=a(560),Ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(w.a)(t).call(this,e))).get_tokens_decimals=function(){a.state.USDx.methods.decimals().call().then((function(e){console.log("usdx: ",e),a.setState({USDx_decimals:Number(e)})})),a.state.WETH.methods.decimals().call().then((function(e){console.log("weth: ",e),a.setState({WETH_decimals:Number(e)})})),a.state.imBTC.methods.decimals().call().then((function(e){console.log("imbtc: ",e),a.setState({imBTC_decimals:Number(e)})})),a.state.USDT.methods.decimals().call().then((function(e){console.log("usdt: ",e),a.setState({USDT_decimals:Number(e)})}))},a.get_market_status=function(){console.log(a.state.mMarket),a.state.mMarket.methods.calculateAccountValues("0x629c4Ee8ad2b48ffEb1f50182a0b12464869427b").call().then((function(e){a.state.mMarket.methods.assetPrices("0xaf21bb8ae7b7a5eec37964e478583cd486fd12e2").call().then((function(t){var n=a.new_web3.utils.toBN(e[1]).div(a.new_web3.utils.toBN(t)),o=a.new_web3.utils.toBN(e[2]).div(a.new_web3.utils.toBN(t));n=a.toStringDecimals(n,18),o=a.toStringDecimals(o,18),a.setState({my_supply_balance:n,my_borrow_balance:o})}))}))},a.get_usdx_status=function(){a.state.mMarket.methods.markets("0xaf21bb8ae7b7a5eec37964e478583cd486fd12e2").call().then((function(e){console.log(e),console.log(e.totalSupply),console.log(e.totalBorrows),console.log(a.toStringDecimals_new(a.new_web3.utils.toBN(e.supplyRateMantissa).mul(a.new_web3.utils.toBN(2102400)).toString(),16,2)),console.log(a.toStringDecimals_new(a.new_web3.utils.toBN(e.borrowRateMantissa).mul(a.new_web3.utils.toBN(2102400)).toString(),16,2)),console.log(a.toStringDecimals_new(a.new_web3.utils.toBN(e.totalBorrows).mul(a.new_web3.utils.toBN(Math.pow(10,18))).div(a.new_web3.utils.toBN(e.totalSupply)).toString(),16,2)),a.state.mMarket.methods.assetPrices("0xaf21bb8ae7b7a5eec37964e478583cd486fd12e2").call().then((function(e){console.log(e),console.log(e)}))}))},a.contractMethodCall=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e instanceof Object&&t.constructor==String?(a.constructor!=Array&&(a=[a]),new Promise((function(n){var o;(o=e.methods)[t].apply(o,Object(p.a)(a)).call().then(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))):(console.log("input param type error!!!"),console.log("contract:".concat(typeof e)),console.log("methodName:".concat(typeof t)),"error")},a.toStringDecimals=function(e,t){e=e.toLocaleString().replace(/,/g,""),t=t.toString();var a=Math.pow(10,t).toLocaleString().replace(/,/g,"").slice(1),n=(e.length>t?e.slice(0,e.length-t)+"."+e.slice(e.length-t):"0."+a.slice(0,a.length-e.length)+e).replace(/(0+)$/g,"");return"."==n.slice(-1)?n+"00":n},a.toStringDecimals_new=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e=e.toLocaleString().replace(/,/g,""),t=t.toString();var n=Math.pow(10,t).toLocaleString().replace(/,/g,"").slice(1),o=(e.length>t?e.slice(0,e.length-t)+"."+e.slice(e.length-t):"0."+n.slice(0,n.length-e.length)+e).replace(/(0+)$/g,"");if(o="."==o.slice(-1)?o+"00":o,0==a)return o.slice(0,o.indexOf("."));var s=o.indexOf(".")+1+a;return o.slice(0,s>=o.length?o.length:s)},a.state={my_supply_balance:null,my_borrow_balance:null},a.new_web3=window.new_web3=new ke.a(ke.a.givenProvider||null),a.new_web3.eth.net.getNetworkType().then((function(e){var t=new a.new_web3.eth.Contract(Re,je[e].address_USDx),n=new a.new_web3.eth.Contract(Ce,je[e].address_WETH),o=new a.new_web3.eth.Contract(Pe,je[e].address_imBTC),s=new a.new_web3.eth.Contract(Je,je[e].address_USDT),i=new a.new_web3.eth.Contract(Le,je[e].address_mMarket);console.log(i),console.log(o),a.setState({USDx:t,WETH:n,imBTC:o,USDT:s,mMarket:i},(function(){a.get_tokens_decimals();var e=setInterval((function(){a.state.USDx_decimals&&a.state.WETH_decimals&&a.state.imBTC_decimals&&a.state.USDT_decimals?(console.log("2222222222: i got it..."),clearInterval(e)):console.log("111111111: not get yet...")}),100)}))})),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement(Ne.a,{maxWidth:736},(function(t){return o.a.createElement(f.c,null,o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App-header"},o.a.createElement(y.a,{message:"Lendf.me is currently only available on Mainnet or the Rinkeby Testnet.",type:"error",onClose:"",icon:Fe,showIcon:!0}),o.a.createElement(y.a,{message:"Note: You are currently connected to the Rinkeby Testnet",type:"informational",onClose:"",className:"informational-banner",icon:He,showIcon:!0}),o.a.createElement(f.a,{exact:!0,path:"/",render:function(){return o.a.createElement(_e,null)}}),o.a.createElement("div",null,o.a.createElement("button",{onClick:e.get_market_status},"get balance"),o.a.createElement("hr",{style:{margin:"20px"}}),o.a.createElement("span",null,"supply: "),o.a.createElement("input",{value:e.state.my_supply_balance?e.state.my_supply_balance:"",style:{width:"300px"},readOnly:!0}),o.a.createElement("hr",{style:{margin:"20px"}}),o.a.createElement("span",null,"borrow: "),o.a.createElement("input",{value:e.state.my_borrow_balance?e.state.my_borrow_balance:"",style:{width:"300px"},readOnly:!0}),o.a.createElement("hr",{style:{margin:"20px"}}),o.a.createElement("button",{onClick:e.get_usdx_status},"get usdx status"))))))}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(ge.a,null,o.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[268,1,2]]]);
//# sourceMappingURL=main.3aca6bfa.chunk.js.map